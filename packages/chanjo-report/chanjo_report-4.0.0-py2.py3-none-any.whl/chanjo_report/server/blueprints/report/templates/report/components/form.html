{% macro report_form(customizations, group_id, levels=None, pdf=False, hidden=False) %}

<form method="{{ 'post' if customizations.gene_ids|count > 100 else 'get' }}" action="{{ url_for('report.pdf' if pdf else 'report.group', group_id=group_id) }}">
	<div class="form-group {% if hidden %}navbar-form{% endif %}">
		<div class="row" {% if hidden %}hidden{% endif %}>
			<div class="col-xs-6">
				<label class="control-label">Completeness cutoff</label>
				{% if levels %}
					<select class="form-control" name="level">
						{% for level in levels %}
							<option value="{{ level }}" {% if level == customizations.level %} selected {% endif %}>{{ level }}x</option>
						{% endfor %}
					</select>
				{% else %}
					<input class="form-control" name="level" type="number" placeholder="15" step="1" value="{{ customizations.level or '' }}">
				{% endif %}
			</div>

			<div class="col-xs-6">
				<label class="control-label">Gene panel name to <i>display</i></label>
				<input class="form-control" name="panel_name" type="text" placeholder="Skeletal dysplasia 3.2" value="{{ customizations.panel_name or '' }}">
			</div>
		</div>

		<div class="row" {% if hidden %}hidden{% endif %}>
			<div class="col-xs-9">
				<label class="control-label">Included genes</label>
				<div><input class="form-control" type="text" name="gene_ids" value="{{ customizations.gene_ids|join(', ') }}" placeholder="ADK,GIT"></div>
			</div>

			<div class="col-xs-3">
				<label class="control-label">Show genes</label>
				<div><input type="checkbox" name="show_genes" {% if customizations.show_genes %}checked{% endif %}></div>
			</div>
		</div>

		<div class="row" {% if hidden %}hidden{% endif %}>
			<div class="col-xs-9">
				<label class="control-label">Samples</label>
				<div><input class="form-control" type="text" name="sample_ids" value="{{ customizations.sample_ids|join(', ') }}" placeholder="sample1,sample2"></div>
			</div>

			<div class="col-xs-3">
				<label class="control-label">&nbsp;</label>
				<button class="btn btn-default form-control" type="submit">Update</button>
			</div>
		</div>

		{% if hidden %}
			<button class="btn btn-link" type="submit">PDF</button>
		{% endif %}
	</div>
</form>
{% endmacro %}
