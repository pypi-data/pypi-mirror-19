

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1. Getting started &mdash; csvkit 1.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="csvkit 1.0.0 documentation" href="../index.html"/>
        <link rel="up" title="Tutorial" href="../tutorial.html"/>
        <link rel="next" title="2. Examining the data" href="2_examining_the_data.html"/>
        <link rel="prev" title="Tutorial" href="../tutorial.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> csvkit
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">1. Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#about-this-tutorial">1.1. About this tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-csvkit">1.2. Installing csvkit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-the-data">1.3. Getting the data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#in2csv-the-excel-killer">1.4. in2csv: the Excel killer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#csvlook-data-periscope">1.5. csvlook: data periscope</a></li>
<li class="toctree-l3"><a class="reference internal" href="#csvcut-data-scalpel">1.6. csvcut: data scalpel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#putting-it-together-with-pipes">1.7. Putting it together with pipes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#summing-up">1.8. Summing up</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2_examining_the_data.html">2. Examining the data</a></li>
<li class="toctree-l2"><a class="reference internal" href="3_power_tools.html">3. Power tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="4_going_elsewhere.html">4. Going elsewhere with your data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tricks.html">Tips and Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to csvkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Release process</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">csvkit</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../tutorial.html">Tutorial</a> &raquo;</li>
      
    <li>1. Getting started</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/tutorial/1_getting_started.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started">
<h1>1. Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="about-this-tutorial">
<h2>1.1. About this tutorial<a class="headerlink" href="#about-this-tutorial" title="Permalink to this headline">¶</a></h2>
<p>There is no better way to learn how to use a new tool than to see it applied in a real world situation. To that end, this tutorial explains how to use csvkit tools by analyzing a real dataset.</p>
<p>The data we will be using is a subset of the United States Defense Logistic Agency Law Enforcement Support Office&#8217;s (LESO) 1033 Program dataset, which describes how surplus military arms have been distributed to local police forces. This data was widely cited in the aftermath of the Ferguson, Missouri protests. The particular data we are using comes from an <a class="reference external" href="http://www.npr.org/2014/09/02/342494225/mraps-and-bayonets-what-we-know-about-the-pentagons-1033-program">NPR report</a> analyzing the data.</p>
<p>This tutorial assumes you have some basic familiarity with the command line. If you don&#8217;t have much experience, fear not! This has been written with beginners in mind. No prior experience with data processing or analysis is assumed.</p>
</div>
<div class="section" id="installing-csvkit">
<h2>1.2. Installing csvkit<a class="headerlink" href="#installing-csvkit" title="Permalink to this headline">¶</a></h2>
<p>Installing csvkit is easy:</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo pip install csvkit
</pre></div>
</div>
<p>If you have problems installing, look for help  in the <a class="reference internal" href="../tricks.html"><em>Tips and Troubleshooting</em></a> section of the documentation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you&#8217;re familiar with <a class="reference external" href="http://virtualenv.readthedocs.org/en/latest/">virtualenv</a>, it is better to install csvkit in its own environment. If you are doing this, then you should leave off the <code class="docutils literal"><span class="pre">sudo</span></code> in the previous command.</p>
</div>
</div>
<div class="section" id="getting-the-data">
<h2>1.3. Getting the data<a class="headerlink" href="#getting-the-data" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s start by creating a clean workspace:</p>
<div class="highlight-bash"><div class="highlight"><pre>mkdir csvkit_tutorial
<span class="nb">cd</span> csvkit_tutorial
</pre></div>
</div>
<p>Now let&#8217;s fetch the data:</p>
<div class="highlight-bash"><div class="highlight"><pre>curl -L -O https://raw.githubusercontent.com/wireservice/csvkit/master/examples/realdata/ne_1033_data.xlsx
</pre></div>
</div>
</div>
<div class="section" id="in2csv-the-excel-killer">
<h2>1.4. in2csv: the Excel killer<a class="headerlink" href="#in2csv-the-excel-killer" title="Permalink to this headline">¶</a></h2>
<p>For purposes of this tutorial, I&#8217;ve converted this data to Excel format. (NPR published it in CSV format.) If you have Excel you can open the file and take a look at it, but really, who wants to wait for Excel to load? Instead, let&#8217;s convert it to a CSV:</p>
<div class="highlight-bash"><div class="highlight"><pre>in2csv ne_1033_data.xlsx
</pre></div>
</div>
<p>You should see a CSV version of the data dumped into your terminal. All csvkit tools write to the terminal output, called &#8220;standard out&#8221;, by default. This isn&#8217;t very useful, so let&#8217;s write it to a file instead:</p>
<div class="highlight-bash"><div class="highlight"><pre>in2csv ne_1033_data.xlsx &gt; data.csv
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">data.csv</span></code> will now contain a CSV version of our original file. If you aren&#8217;t familiar with the <code class="docutils literal"><span class="pre">&gt;</span></code> syntax, it means &#8220;redirect standard out to a file&#8221;. If that&#8217;s hard to remember it may be more convenient to think of it as &#8220;save to&#8221;.</p>
<p>We can verify the that the data is saved to the new file by using the <code class="docutils literal"><span class="pre">cat</span></code> command to print it:</p>
<div class="highlight-bash"><div class="highlight"><pre>cat data.csv
</pre></div>
</div>
<p><a class="reference internal" href="../scripts/in2csv.html"><em>in2csv</em></a> can convert a variety of common file formats to CSV, including both <code class="docutils literal"><span class="pre">.xls</span></code> and <code class="docutils literal"><span class="pre">.xlsx</span></code> Excel files, JSON files, and fixed-width formatted files.</p>
</div>
<div class="section" id="csvlook-data-periscope">
<h2>1.5. csvlook: data periscope<a class="headerlink" href="#csvlook-data-periscope" title="Permalink to this headline">¶</a></h2>
<p>Now that we have some data, we probably want to get some idea of what&#8217;s in it. We could open it in Excel or Google Docs, but wouldn&#8217;t it be nice if we could just take a look in the command line? To do that, we can use <a class="reference internal" href="../scripts/csvlook.html"><em>csvlook</em></a>:</p>
<div class="highlight-bash"><div class="highlight"><pre>csvlook data.csv
</pre></div>
</div>
<p>At first the output of <a class="reference internal" href="../scripts/csvlook.html"><em>csvlook</em></a> isn&#8217;t going to appear very promising. You&#8217;ll see a mess of data, pipe character and dashes. That&#8217;s because this dataset has many columns and they won&#8217;t all fit in the terminal at once. You have two options:</p>
<ol class="arabic simple">
<li>Pipe the output to <code class="docutils literal"><span class="pre">less</span> <span class="pre">-S</span></code> to display the lines without wrapping and use the arrow keys to scroll left and right:</li>
</ol>
<div class="highlight-bash"><div class="highlight"><pre>csvlook data.csv <span class="p">|</span> less -S
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Reduce which columns of our dataset are displayed before we look at it. This is what will do in the next section.</li>
</ol>
</div>
<div class="section" id="csvcut-data-scalpel">
<h2>1.6. csvcut: data scalpel<a class="headerlink" href="#csvcut-data-scalpel" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../scripts/csvcut.html"><em>csvcut</em></a> is the original csvkit tool. It inspired the rest. With it, we can select, delete and reorder the columns in our CSV. First, let&#8217;s just see what columns are in our data:</p>
<div class="highlight-bash"><div class="highlight"><pre>csvcut -n data.csv
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre> 1: state
 2: county
 3: fips
 4: nsn
 5: item_name
 6: quantity
 7: ui
 8: acquisition_cost
 9: total_cost
10: ship_date
11: federal_supply_category
12: federal_supply_category_name
13: federal_supply_class
14: federal_supply_class_name
</pre></div>
</div>
<p>As you&#8217;ll can see, our dataset has fourteen columns. Let&#8217;s take a look at just columns <code class="docutils literal"><span class="pre">2</span></code>, <code class="docutils literal"><span class="pre">5</span></code> and <code class="docutils literal"><span class="pre">6</span></code>:</p>
<div class="highlight-bash"><div class="highlight"><pre>csvcut -c 2,5,6 data.csv
</pre></div>
</div>
<p>Now we&#8217;ve reduced our output CSV to only three columns.</p>
<p>We can also refer to columns by their names to make our lives easier:</p>
<div class="highlight-bash"><div class="highlight"><pre>csvcut -c county,item_name,quantity data.csv
</pre></div>
</div>
</div>
<div class="section" id="putting-it-together-with-pipes">
<h2>1.7. Putting it together with pipes<a class="headerlink" href="#putting-it-together-with-pipes" title="Permalink to this headline">¶</a></h2>
<p>Now that we understand <a class="reference internal" href="../scripts/in2csv.html"><em>in2csv</em></a>, <a class="reference internal" href="../scripts/csvlook.html"><em>csvlook</em></a> and <a class="reference internal" href="../scripts/csvcut.html"><em>csvcut</em></a> we can demonstrate the power of csvkit&#8217;s when combined with the standard command-line &#8220;pipe&#8221;. Try this command:</p>
<div class="highlight-bash"><div class="highlight"><pre>csvcut -c county,item_name,quantity data.csv <span class="p">|</span> csvlook <span class="p">|</span> head
</pre></div>
</div>
<p>In addition to specifying filenames, all csvkit tools accept an input file via &#8220;standard in&#8221;. This means that, using the <code class="docutils literal"><span class="pre">|</span></code> (&#8220;pipe&#8221;) character we can use the output of one csvkit tool as the input of the next.</p>
<p>In the example above, the output of <code class="docutils literal"><span class="pre">csvcut</span></code> becomes the input to <code class="docutils literal"><span class="pre">csvlook</span></code>. This also allow us to pipe output to standard Unix commands such as <code class="docutils literal"><span class="pre">head</span></code>, which prints only the first ten lines of its input. Here, the output of <code class="docutils literal"><span class="pre">csvlook</span></code> becomes the input of <code class="docutils literal"><span class="pre">head</span></code>.</p>
<p>Piping is a core feature of csvkit. Of course, you can always write the output of each command to a file using <code class="docutils literal"><span class="pre">&gt;</span></code>. However, it&#8217;s often faster and more convenient to use pipes to chain several commands together.</p>
<p>We can also pipe <code class="docutils literal"><span class="pre">in2csv</span></code>, allowing us to combine all our previous operations into one:</p>
<div class="highlight-bash"><div class="highlight"><pre>in2csv ne_1033_data.xlsx <span class="p">|</span> csvcut -c county,item_name,quantity <span class="p">|</span> csvlook <span class="p">|</span> head
</pre></div>
</div>
</div>
<div class="section" id="summing-up">
<h2>1.8. Summing up<a class="headerlink" href="#summing-up" title="Permalink to this headline">¶</a></h2>
<p>All the csvkit tools work with standard input and output. Any tool can be piped into another and into another. The output of any tool can be redirected to a file. In this way they form a data processing &#8220;pipeline&#8221; of sorts, allowing you to do non-trivial, repeatable work without creating dozens of intermediary files.</p>
<p>Make sense? If you think you&#8217;ve got it figured out, you can move on to <a class="reference internal" href="2_examining_the_data.html"><em>Examining the data</em></a>.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="2_examining_the_data.html" class="btn btn-neutral float-right" title="2. Examining the data" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../tutorial.html" class="btn btn-neutral" title="Tutorial" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Christopher Groskopf.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>