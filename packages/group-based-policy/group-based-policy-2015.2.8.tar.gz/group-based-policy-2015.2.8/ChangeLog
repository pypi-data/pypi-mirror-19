CHANGES
=======

2015.2.8
--------

* Fix incorrect router ID in floating IP
* Fix build breakage
* NFP- Enabling nfp upstart services
* Fix SNAT port with missing IP
* Add dhcp lease time to the get_gbp_details() call
* NFP - Fixed authtoken configuration
* NFP - Enhanced logging of all nfp components
* [apic_mapping] Use neutron rpc TRANSPORT instead
* NFP - Modified node config update for FW and vpn service
* NFP - Suppressing duplicate firewall rules
* NFP - Added periodic HM functionality
* NFP - Enhnanced nfp logging framework
* NFP - Removed cluster references
* NFP - Enhanced data for LbaasV2 service
* NFP - Removed unwanted resource creation from NFP
* [apic-mapping] Call the mapper properly to get the right PTG name
* NFP - Fixed firewall source configuration missing
* [apic-mapping] Scope the pool name to make it unique
* NFP - Enhance to add cluster id for multiple service targets
* NFP - Fixed the table name in the DB model definition
* NFP - Added support for user config with big data
* NFP - Corrected logic to get consumers for corresponding chain
* NFP - Corrected wrong calculation of interfaces_in_use
* NFP - Updating vpn service description
* Correcting names when multiple endpoint pts requested
* NFP - Refactor to support extensions such as network device cluster
* NFP - DB model for network function device cluster
* NFP - Support module priority
* NFP - Fix for wily base image path
* Remove expunge_all calls
* LBaaS V2 resource data format change
* [apic-mapping] NameAlias support for tenant
* Adresss DB exception while createing vip
* NFP - Corrected Allowed Address Pair entry
* NFP node driver PTG update notification implementation
* [apic-mapping] Load Nova Client only once to avoid reconnecting
* [apic-mapping] single_tenant should not kick in for preexisting obj
* Added support for LBaas v2 multiple listeners
* Fixed broken NFP base mode delete orchestration path
* Making external network configuration in local.conf optional
* Fixing Loading of docker image during image-build
* Using aliases instead long names in the plugin configuration
* [apic-mapping] Updating nameAlias field also
* [apic-mapping] Introduce single_tenant_mode to GBP workflow
* Reduce log level for UTs
* PTG update notification to service chain Node Drivers
* [APIC-mapping] Use provided fixed_ips for PolicyTarget in VLAN network
* NFP - Devstack and build enhancements
* NFP - Added LBaaSV2 support
* NFP - Controller Enhancements
* NFP - Proxy,ConfigOrch & Node driver Enhancements
* NFP - Orchestrator Enhancements
* NFP - Framework Enhancements
* [APIC-mapping] Fix intermittent UT failure
* [APIC-mapping] Copy over provider physical network
* [apic-mapping] guard against null port-id on master PTs
* NFP - Fixes to support openstack installation

2015.2.7
--------

* Sort multiple macs in port lookup
* [apic] fix proxy_group migration default
* [apic-mapping] Allowed VM Name extension for L3 Policy
* [apic-mapping] Fix table name for segmentation table
* [aim-mapping] Fix PT create error in auto-ptg
* [NFP] - Fixed nfp-proxy startup
* [apic-mapping] Segmentation Label extension for PT
* [NFP] - Calculate interface netmask in nfp-proxy namespace
* [APIC-mapping] Fix device_id of port when using VLAN network
* [apic_mapping] cast nat_epg_tenant to string before RPC answer
* [apic_mapping] APIC name usage error in Auto PTG
* [apic-mapping] Automatic PTG per L2P
* NFP -Added Cluster ID fix
* NFP - Added APIC support and other fixes for V0 release installation
* NFP - Fixed stale resources issue
* NFP - Elimination of neutron-lib Package
* ptg attribute for sc enforcement
* [apic-mapping] notify all ports in a cluster
* Fix tox env to facilitate generation of tarball
* NFP - Core UT fix
* Fix exception log due to access of incorrect thread attribute
* NFP (contrib) - Build and Configure Changes of NFP
* NFP (contrib) - Controller VM root login

2015.2.6
--------

* Fix NFP service_plugin entrypoint
* NFP (contrib) - Controller Image Build Scripts
* NFP - ini files and entry points
* NFP (contrib) - Devstack and Diskimage Create Scripts
* NFP (contrib) - Service Plugins
* NFP (contrib) - Service Drivers
* NFP (contrib) - Service Agents
* NFP (contrib) - Configurator
* NFP (contrib) - Over the Cloud Network Function Controller
* NFP - Pecan controller enhancements to support configuration patches
* NFP - Enhancements and fixes to master NFP
* Fixes Unauthorized failure in liberty
* Splitting NFP integration tests - part 2
* Splitting NFP integration tests into new job
* [apic-mapping] Explicit end of the chain for ptgs
* Fix for cross tenancy issue with neutron
* Added fix for node update failure
* Fixes for multiple notifications in node drivers
* NFP - Reference Service Implementation
* NFP - Base Configurator Reference Implementation
* NFP - Node Driver
* NFP - Heat driver implementation
* NFP - Orchestration driver
* NFP - Device Orchestrator implementation
* NFP - Base mode Service Orchestrator
* NFP - Service Orchestrator module
* NFP - Client utilities for OpenStack services
* NFP - DB Framework and DB Model Implementation
* NFP - Multi process framework implementation
* Fix for service target creation in chain
* Fix branch-name in refernce local.conf and README files
* NFP (contrib) - Config Orchestrator
* Use upper-constraints for requirements' versions
* NFP - Devstack and Diskimage Create Scripts
* Add support for L3P lookup using router ID

2015.2.5
--------

* [apic_mapping] Don't create NatEPG/NatBD when EdgeNat is on
* [APIC mapping] Support per-tenant NAT EPGs
* opflex 1.1 compliance
* [apic_mapping] Fix bugs while setting auto-l3out for BDs
* [apic]Fix expected req body for l3out UTs
* Status attributes for GBP resources
* Propagate allowed address pairs to head of the chain
* [apic_mapping] Use the tenant name instead of ID while cloning l3out
* Better quota enforcement for GBP resources
* [APIC mapping] Associate BDs to L3Outs even when NAT is disabled
* Add support for per-VRF SNAT IP allocation
* [APIC-mapping] Update dependencies on APIC libraries
* Fix unnamed contraints removal for postgresql
* Fix gate job devstack conf disabling heat
* Fix Port Group name construction
* Also allow SVI while cloning the Auto-l3out
* use the scoped name for the VRF also while cloning l3out
* Fix service chain instance deletion on PRS update
* Remove syslog conf from devstack gate job
* [apic_mapping] dynamic routing support for edge_nat
* Use the proper pre_existing method from apic mapper
* Separate L3 APIC Driver

2015.2.4
--------

* [apic_mapping] handle the ES routes update for edge_nat
* Make get_gbp_details robust against SNAT IP loss

2015.2.3
--------

* Fix attribute error in nova client
* [apic-mapping] add support to keystone v3

2015.2.2
--------

* [APIC-mapping] Support non-OpFlex networks
* [apic_mapping] make the naming changes consistent
* Refactor for create_floatingip call
* Fix keystone config import
* Fixed IP address as optional attributes for PT
* Add DevRef for all major features
* [apic_mapping] some naming changes
* [apic_mapping] preexisting support for ASR L3out
* Remove syslog logging
* [apic_mapping]preexisting support for ASR L3out
* Fix DVS port key name

2015.2.1
--------

* [APIC-mapping] Restore 'config' import
* [APIC-mapping] Fixes for pre-existing L3-out
* Notify DHCP agent on Router interface port delete
* Fix L3 APIC plugin inheritance
* Added support for VMware DVS
* Disallow identical external routes
* [apic_mapping] NAT support for ASR router
* Prevent deletion of NAT pool having floating IP
* [apic-mapping] retrieve the right subnets during PTG allocation
* [APIC mapping] Restrict creation of external EPGs to tenant
* [apic-mappic] do not enforce subnet check in shadow BD
* [APIC mapping] Allow more L3-policies to connect to external segment
* Point integration job to GBP stable liberty

2015.2.0
--------

* Initializing proxy pool attrs from conf
* Shared resources tests for gbpfunc
* [APIC mapping] Update liberty dependencies
* Pin keystoneclient to liberty branch

2015.2.0b1
----------

* Aligning with liberty dependencies
* Remove unused functional test setup
* Changing data type of 'config' column of 'sc_nodes'
* remove python 2.6 trove classifier
* [APIC mapping] Fix contract association for pre-existing external EPG
* port extra attribute extension for gbp mapping
* Deprecated tox -downloadcache option removed
* [apic-mapping] create reverse rules for ICMP as needed
* validate l2p update at plugin level
* Allow disabling of default route via DHCP
* [APIC mapping] Set external IP for L3Policy only once
* [APIC mapping] Send correct host SNAT IP in get_gbp_details
* Avoid allocating multiple router gateway IPs
* [apic-mapping]Put real port IDs in ha table when proxy port
* [apic-mapping] debugging chain overlapping ips
* Increase name attr len to 128 in API and 255 in DB
* Fix the repository URL in the README file
* [apic-mapping] avoid snat duplicate on gbp-details
* [apic-mapping] revert udp rules
* Support IP protocol Numbers in GBP
* Use default bi direction for classifier
* [APIC mapping] Update operational status of floating-IP resource
* [APIC mapping] Set external routed domain for L3Outs
* Reject updating nodes in an in use ServiceChain Spec
* management ptg lookup in NCP to use admin context
* Update ODL Mapping
* Reject deletion of PRS in use by External Policy
* Process only relevant PTG for SC instantiation on PTG create
* [apic-mapping] propagate promiscuous mode when in a cluster
* [apic-mapping] avoid cached results for port notifications
* [apic-mapping] Send ES name for SNAT auto alloc
* Limit ML2 delete_network/subnet retries
* [apic-mapping] scope ctx correctly on opflex RPC
* [apic-mapping] RPC-driven allocation of SNAT IPs
* [apic-mapping] notify head of the chain correctly
* [apic-mapping]gracefully fail get_gbp_details
* [apic-mapping] scope cluster master details by mac address
* [APIC mapping] Support pre-existing L3Outs
* [APIC mapping] Compare owned-addresses correctly
* delete proxy subnets when proxy is deleted
* do not notify unrelated chains on consumer added
* [Apic Mapping] TScP with Admin owned Resources
* [APIC mapping] Update IP address ownership info based on notifications
* [apic-mapping] add details info based on owned addresses
* Fix port notification update in L3 plugin
* Use elevated context when retrieving ports
* add cluster_id attribute to PTs for HA
* reject EP sharing during update
* [APIC mapping] Allow disabling NAT for external-segments
* Fix UT breaking gate
* Changing stackforge references
* [apic-mapping] do not attach routers to proxy subnets
* [apic-mapping] handle subnet concurrent allocation
* [apic-mapping] enhance subnet info for opflex rpc
* use chain admin context for PT notifications
* refactor SC mapping into a dedicated gbp driver
* Handle concurrent subnet allocation
* Fix router interface status
* Fix to DB update for auto-allocated external fixed IP
* [apic-mapping] send fixed ips as part of the opflex RPC
* Update devstack exercise scripts with new CLI
* api to notify ncp plugin when prs consumer added/removed
* [apic_mapping] Notify port chain on FIP APIs
* [APIC mapping] Set 'Associated L3Out' for NAT BD
* [apic-mapping] allow wildcard for pr [second-part]
* [apic-mapping] allow wildcard for protocol when creating a policy rule
* [APIC mapping] Changes to implicit external networks
* [APIC mapping] Support for multiple external-policies
* [apic-mapping] use pt description to point a different port
* [apic-mapping] support for traffic stitching plumber
* provider centric service chains
* introducing traffic stitching plumber
* the mighty PEP8 hammer shall rise on functional tests
* Provide external fixed-ip properly when setting router gateway
* [apic-mapping] reference existing apic objects
* rmd and ipd to support proxy_group extension
* add proxy ip pool to proxy group extension
* proxy ptg extension
* Handle concurrent implicit L3P creation
* Admin or Provider tenant to own implicit SCIs
* Adding gbpfunctest integration tests to contrib
* explicitly specify router_id when creating a floating ip
* Change ignore-errors to ignore_errors
* Fix incorrect reporting of failed exercise scripts
* add get_vrf_details rpc method to apic mapping
* Handle NAT-pools properly in APIC-mapping driver
* Reset oslo pinning
* [apic-mapping]add vrf details to get_gbp_details rpc
* test external segment routes after precommit operation
* remove unique constraint from ES ip address mapping
* Send network information for port along with GBP details
* use nat pool to allocate floating ips
* GBP-specific L3 plugin for FIPs
* Add support for NAT to APIC mapping driver
* Factor out of adding router interface to subnet
* Switch to using os-testr's copy of subunit2html
* Default subnet-prefix-length should be consistent
* Fix policy rule update UT to check specific SG rule
* Adding metadata server and DNS SG default rules
* Open Liberty

2015.1.0
--------

* expunge session objects in RMD when calling Neutron plugins
* remove wide egress rules from PRS security groups
* Gracefully handle parameter updates that affects Service Chain
* add service_management attribute to PTG
* Fix Servicechain Instance update and spec update
* allocate implicit pt port in the right subnet
* Adds quota support for GBP resources
* subnet allocation improvement
* apic driver to pass scoped tenant names to opflex agent
* Check for port association before PT update
* Add configuration parameter for setting PTG subnet DNS nameservers
* Fix error in Rally job hook
* Add gate hooks to run scale test job
* Updating gbpfunc repo and branch
* Allow updating Service Node config
* [apic] only push contracts on managed external segments
* Update test-requirements per global requirements
* add implicit_policy.ini file
* Heat Based Node driver for Node Composition plugin
* Apic driver improvements
* Support GBP Neutron mapping resources in List filters
* Adding devstack artifacts for integration gate job
* Trap on error in post-hook script
* ignore not found error on SCI deletion
* Refactoring integration job to archive logs on error
* Fix update service chain spec db
* Fix PTG update with a different NSP of same type(self_subnet)
* notify PT added/removed for autoscaling
* chain agnostic node plumber
* reintroduce count methods for SP and SCI
* fix external segment deletion
* fix test coverage report
* node composition plugin implementation
* node composition plugin architecture
* introduce service profile model
* Support Floating IP for all PTs in a PTG
* Fixes a permissions issue breaking integration job

2015.1.0b3
----------

* stack names to use bits of unique information
* delete unbound ports on PTG deletion
* delete unbound ports on PTG deletion
* shared external segment update to affect cross tenant l3ps properly
* fix typo that prevented proper external segment routes update
* Pinning to stable/kilo in test-requirements
* remove deprecated usage of contextlib.nested
* Share service chain constructs
* reorganize service chain directory
* sort out servicechain configuration template and Heat usage
* Adding to gbpfunc tests to gate job
* Fix L3P update with longer subnet prefix length
* Adding project logs to integration job archive
* fix unnamed contraints removal for db migration
* Updating constants referenced from Neutron
* Update GBP to work with Neutron Master (Post Juno)
* fix redirect action for external policies
* Add oslosphinx to requirements.txt
* Adding GBP integration and functional gate
* Update the oslosphinx version
* Add GBP APIs to interact with Neutron RESTful Client
* Adding policy.json entry to setup.cfg
* Add Neutron Client Utilities

2015.1.0b2
----------

* Avoid exception deleting PTG with no subnets
* Properly handle driver exceptions during postcommit
* Change endpoint register URL and information
* Fix Network Service Policy Implementation
* Reject update of L2Policy's L3Policy
* L3Policy create should have validity check for IP pool
* Fix DB constraints for Network Service Policy
* Remove spaces in stackname in ServiceChainInstance create
* Ignore NotFound Exception in Delete ServiceChainInstance

2015.1.0b1
----------

* Reject deletion of in-use L2Policy or L3Policy
* L3P check subnet mask smaller than pool subnet
* Making gpdb abbreviation consistent across files
* Add UT support for ODL manager
* Prevent deletion of in use ServiceChain Resources
* Add unit tests for OneConvergence GBP Driver
* Add ordering of service chain nodes and specs
* Fix rendering issue with GBP usage documentation
* Add more UT support for ODL mapping driver
* Open Kilo development

2014.2
------

* Enforce parent redirect in all update scenarios
* Fixed some errors in the GBP usage document
* Fixed the member count check for LB PoolMember

2014.2rc3
---------

* Wait for resource cleanup in Servicechain Instance Delete
* Support adding multiple LB PoolMembers
* Delete policy target fails for APIC policy driver
* Adding usage documentation
* Adopting preferred coding style
* SG cleanup not happening when PTG is deleted
* py26 still present in tox.ini
* Handle PTG and PRS updates to update servicechain instance
* Renaming gbp package to gbpservice
* Updates to the test-requirements
* Notify ServiceChainInstance of classifier updates

2014.2.rc1
----------

* Allow PTG deletion with unused PTs
* Reject creating a Rule/PRS with multiple redirect action

2014.1.rc1
----------

* Adds ml2 mechanism driver for odl/gbp
* Add exception handle for External Connectivity
* Add an ODL mapping driver for odl/gbp
* Fix Policy Action update in Policy Rule
* Validate explicit neutron resources(more changes)
* Temporary work around for a failing UT
* Add ODL manager for GBP
* Reject deletion of in use policy_* resources
* Support Hierarchial Policy Rule Set for Redirects
* GBP driver for nuage
* Fix hierarchical PRS behavior
* Do not invoke update PTG from create PTG
* Reject replacement of PTG's existing L2P in RMD
* Disallow cross tenant references
* Fix primary key constraint in Spec-Node Association
* Service type validations should be done at specific driver
* Handle multiple providing PTGs in redirect action
* One Convergence Group Policy Driver changes
* Fix deletion of Network Service Policy
* Support api version 1.0 in One Convergence GBP Driver
* UTs refactor
* Validate explicit subnet for PTG
* Adding a "not supported" exception
* Fix PT delete when port missing
* Support shared resource on APIC driver
* Use existing mapping instead of DB query
* Handle Policy Action value update(Service Chain Spec update)
* Add support to External Connectivity in APIC driver
* Represent External Connectivity in GBP: Implicit Driver
* Represent External Connectivity in GBP: RMD
* Represent External Connectivity in GBP: PLUGIN
* Represent External Connectivity in GBP: API-DB
* GBP servicechain instance should be maintained between a pair of PTGs
* Renamed the validator to _validate_gbp_port_range
* Fixing primary key constraints in service chain spec-node association
* Handle ServicechainSpec update for all ServiceChain instances
* Introduce shared attribute for GBP resources
* Navigability Issue: providing and consuming PTGs
* Extension driver framework for GBP
* Add update_policy_rule, update_policy_classifier Close-Bug: 1383941
* Workflow documentation is now in infra-manual
* Reverting the new DB migration script added for bug 137527
* Disallow overlapping IPs within the same tenant
* In ServiceChainInstance, add _id suffix for the referenced UUIDs
* Traffic intra PTG not working
* Fixed a TODO in resource mapping driver
* Renaming of GBP resources
* Datapath doesnt work with Policy Redirect to an LB
* Subnet mapping broken with overlapping ips
* Cleanup of Group Policy Redirect Action
* Network Service Policy Parameters should be List datatype
* One Convergence NVSD ServiceChain Driver
* One Convergence NVSD GBP Driver
* Network Service Policy Driver Implementation
* Add Network Service Policy support for service chains
* Apic GBP mapping driver
* Group Policy Service Chain Implementation change for updated Spec
* Group Policy Redirect Action Implementation
* GBP Service Chaining Reference Driver
* GBP Service Chaining Plugin
* GBP Service Chaining DB
* GBP Service Chaining API
* Hierarchical contracts implementation
* Do not delete used EPGs
* Group Policy: Resource Mapping Driver (Security Groups)
* Delete object chain
* Group Policy Plugin-3: Contracts
* Group Policy DB-3: Contracts
* Group Policy API-3: Contracts
* Group Policy Plugin-2: Classifiers, Actions, and Rules
* Group Policy DB-2: Classifiers, Actions, and Rules
* Group Policy API-2: Classifiers, Actions, and Rules
* Change Neutron's test dependency
* Group Policy: Resource Mapping Driver
* Database migration breaks neutron's upgrade
* Group Policy: Implicit Policy Driver
* Group Policy Mapping Plugin-1: EP, EPG, L2 Policy, L3 Policy
* Group Policy Mapping DB-1: EP, EPG, L2 Policy, L3 Policy
* Group Policy Mapping API-1: EP, EPG, L2 Policy, L3 Policy
* Group Policy Plugin-1: EP, EPG, L2 Policy, L3 Policy
* Group Policy DB-1: EP, EPG, L2 Policy, L3 Policy
* DB migration for neutron package
* Adding more content to README
* Neutron requirement overrides entry points
* Group Policy API-1: EP, EPG, L2 Policy, L3 Policy
* Project boilerplate and base modules
* Initial commit for GBP server side modules
* Added .gitreview
