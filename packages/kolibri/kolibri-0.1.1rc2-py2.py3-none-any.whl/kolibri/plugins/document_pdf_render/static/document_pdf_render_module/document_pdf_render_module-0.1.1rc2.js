!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/static/document_pdf_render_module/",t(0)}([function(e,t,n){var r=n(1),i=n(6),o=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={rendererComponent:{},contentType:{}};return n.rendererComponent.get=function(){return i},n.contentType.get=function(){return"document/pdf"},Object.defineProperties(t.prototype,n),t}(r);e.exports=new o},function(e,t,n){var r=n(2);e.exports=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={rendererComponent:{},contentType:{}};return t.prototype.render=function(){this.emit("component_render:"+this.contentType,this.rendererComponent)},n.rendererComponent.get=function(){return null},n.contentType.get=function(){return null},Object.defineProperties(t.prototype,n),t}(r)},function(e,t,n){var r=n(10);e.exports=function(){function e(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];this.name="document_pdf_render_module",this.events={"content_render:document/pdf":"render"},this.once={};var r={};this.kolibriModuleOptions.forEach(function(t){e[t]&&(r[t]=e[t])}),Object.assign(this,r),(i=this).initialize.apply(i,[e].concat(t)),this._registerKolibriModule();var i}var t={kolibriModuleOptions:{}};return t.kolibriModuleOptions.get=function(){return[]},e.prototype._registerKolibriModule=function(){r.registerKolibriModuleSync(this)},e.prototype.initialize=function(){},e.prototype.ready=function(){},e.prototype.stopListening=function(e,t){r.stopListening(e,this,t)},e.prototype.emit=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];r.emit.apply(r,e)},Object.defineProperties(e.prototype,t),e}()},function(e,t,n){var r=n(12);e.exports={components:{"icon-button":n(11)},props:["defaultFile"],data:function(){return{supportsPDFs:r.supportsPDFs,timeout:null,inFullscreen:!1}},methods:{togglefullscreen:function(){var e=this.$refs.container;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.inFullscreen=!1):(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.inFullscreen=!0)},updateFullscreenState:function(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||(this.inFullscreen=!1)}},mounted:function(){r.embed(this.defaultFile.storage_url,this.$refs.pdfcontainer),this.$emit("startTracking");var e=this;this.timeout=setTimeout(function(){e.$emit("progressUpdate",1)},15e3),document.addEventListener("fullscreenchange",this.updateFullscreenState,!1),document.addEventListener("webkitfullscreenchange",this.updateFullscreenState,!1),document.addEventListener("mozfullscreenchange",this.updateFullscreenState,!1),document.addEventListener("MSFullscreenChange",this.updateFullscreenState,!1)},beforeDestroy:function(){this.timeout&&clearTimeout(this.timeout),this.$emit("stopTracking"),document.removeEventListener("fullscreenchange",this.updateFullscreenState,!1),document.removeEventListener("webkitfullscreenchange",this.updateFullscreenState,!1),document.removeEventListener("mozfullscreenchange",this.updateFullscreenState,!1),document.removeEventListener("MSFullscreenChange",this.updateFullscreenState,!1)},$trNameSpace:"pdfRenderer",$trs:{exitFullscreen:"Exit Fullscreen",enterFullscreen:"Enter Fullscreen"}}},function(e,t,n){t=e.exports=n(5)(),t.push([e.id,".btn[data-v-1498fb58]{margin-bottom:1em}.container[data-v-1498fb58]{text-align:center;height:100vh;max-height:calc(100vh - 24em);min-height:400px}.container[data-v-1498fb58]:-webkit-full-screen{width:100%;height:100%;min-height:inherit;max-height:inherit}.container[data-v-1498fb58]:-moz-full-screen{width:100%;height:100%;min-height:inherit;max-height:inherit}.container[data-v-1498fb58]:-ms-fullscreen{width:100%;height:100%;min-height:inherit;max-height:inherit}.container[data-v-1498fb58]:fullscreen{width:100%;height:100%;min-height:inherit;max-height:inherit}.pdfcontainer[data-v-1498fb58]{height:calc(100% - 4em)}","",{version:3,sources:["/./kolibri/plugins/document_pdf_render/assets/src/vue/index.vue"],names:[],mappings:"AACA,sBACE,iBAAmB,CACpB,AACD,4BACE,kBAAmB,AACnB,aAAc,AACd,8BAA+B,AAC/B,gBAAkB,CACnB,AACD,gDACE,WAAY,AACZ,YAAa,AACb,mBAAoB,AACpB,kBAAoB,CACrB,AACD,6CACE,WAAY,AACZ,YAAa,AACb,mBAAoB,AACpB,kBAAoB,CACrB,AACD,2CACE,WAAY,AACZ,YAAa,AACb,mBAAoB,AACpB,kBAAoB,CACrB,AACD,uCACE,WAAY,AACZ,YAAa,AACb,mBAAoB,AACpB,kBAAoB,CACrB,AACD,+BAEE,uBAAyB,CAC1B",file:"index.vue",sourcesContent:["\n.btn[data-v-1498fb58] {\n  margin-bottom: 1em;\n}\n.container[data-v-1498fb58] {\n  text-align: center;\n  height: 100vh;\n  max-height: calc(100vh - 24em);\n  min-height: 400px;\n}\n.container[data-v-1498fb58]:-webkit-full-screen {\n  width: 100%;\n  height: 100%;\n  min-height: inherit;\n  max-height: inherit;\n}\n.container[data-v-1498fb58]:-moz-full-screen {\n  width: 100%;\n  height: 100%;\n  min-height: inherit;\n  max-height: inherit;\n}\n.container[data-v-1498fb58]:-ms-fullscreen {\n  width: 100%;\n  height: 100%;\n  min-height: inherit;\n  max-height: inherit;\n}\n.container[data-v-1498fb58]:fullscreen {\n  width: 100%;\n  height: 100%;\n  min-height: inherit;\n  max-height: inherit;\n}\n.pdfcontainer[data-v-1498fb58] {\n/* Accounts for the button height. */\n  height: calc(100% - 4em);\n}\n"],sourceRoot:"webpack://"}])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t,n){var r,i;n(9),r=n(3);var o=n(7);i=r=r||{},"object"!=typeof r["default"]&&"function"!=typeof r["default"]||(i=r=r["default"]),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,i._scopeId="data-v-1498fb58",e.exports=r},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"container",attrs:{allowfullscreen:""}},[e.supportsPDFs?n("icon-button",{staticClass:"btn",attrs:{text:e.inFullscreen?e.$tr("exitFullscreen"):e.$tr("enterFullscreen")},on:{click:e.togglefullscreen}}):e._e(),e._v(" "),n("div",{ref:"pdfcontainer",staticClass:"pdfcontainer"})])},staticRenderFns:[]}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=d[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],t))}else{for(var s=[],o=0;o<r.parts.length;o++)s.push(u(r.parts[o],t));d[r.id]={id:r.id,refs:1,parts:s}}}}function i(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],s=i[1],c=i[2],u=i[3],a={css:s,media:c,sourceMap:u};n[o]?n[o].parts.push(a):t.push(n[o]={id:o,parts:[a]})}return t}function o(e,t){var n=h(),r=v[v.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function c(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function u(e,t){var n,r,i;if(t.singleton){var o=g++;n=m||(m=c(t)),r=a.bind(null,n,o,!1),i=a.bind(null,n,o,!0)}else n=c(t),r=l.bind(null,n),i=function(){s(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function a(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=A(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function l(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var d={},f=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=f(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0,v=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=i(e);return r(n,t),function(e){for(var o=[],s=0;s<n.length;s++){var c=n[s],u=d[c.id];u.refs--,o.push(u)}if(e){var a=i(e);r(a,t)}for(var s=0;s<o.length;s++){var u=o[s];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete d[u.id]}}}};var A=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var r=n(4);"string"==typeof r&&(r=[[e.id,r,""]]);n(8)(r,{});r.locals&&(e.exports=r.locals)},function(e,t){e.exports=kolibriGlobal},function(e,t){e.exports=kolibriGlobal.coreVue.components.iconButton},function(e,t,n){var r,i,o;!function(n,s){i=[],r=s,o="function"==typeof r?r.apply(t,i):r,!(void 0!==o&&(e.exports=o))}(this,function(){"use strict";if("undefined"==typeof window||"undefined"==typeof navigator)return!1;var e,t,n,r,i,o,s,c,u,a,l,d="2.0.201604172",f="undefined"!=typeof navigator.mimeTypes["application/pdf"],p=function(){return/iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase())}();return t=function(e){var t;try{t=new ActiveXObject(e)}catch(n){t=null}return t},n=function(){return!!(window.ActiveXObject||"ActiveXObject"in window)},r=function(){return!(!t("AcroPDF.PDF")&&!t("PDF.PdfCtrl"))},e=f||n()&&r(),i=function(e){var t,n="";if(e){for(t in e)e.hasOwnProperty(t)&&(n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&");n&&(n="#"+n,n=n.slice(0,n.length-1))}return n},o=function(e){"undefined"!=typeof console&&console.log&&console.log("[PDFObject] "+e)},s=function(e){return o(e),!1},u=function(e){var t=document.body;return"string"==typeof e?t=document.querySelector(e):"undefined"!=typeof jQuery&&e instanceof jQuery&&e.length?t=e.get(0):"undefined"!=typeof e.nodeType&&1===e.nodeType&&(t=e),t},a=function(e,t,n,r,i){var o=r+"?file="+encodeURIComponent(t)+n,s=p?"-webkit-overflow-scrolling: touch; overflow-y: scroll; ":"overflow: hidden; ",c="<div style='"+s+"position: absolute; top: 0; right: 0; bottom: 0; left: 0;'><iframe  "+i+" src='"+o+"' style='border: none; width: 100%; height: 100%;' frameborder='0'></iframe></div>";return e.className+=" pdfobject-container",e.style.position="relative",e.style.overflow="auto",e.innerHTML=c,e.getElementsByTagName("iframe")[0]},l=function(e,t,n,r,i,o,s){var c="";return c=t&&t!==document.body?"width: "+i+"; height: "+o+";":"position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",e.className+=" pdfobject-container",e.innerHTML="<embed "+s+" class='pdfobject' src='"+n+r+"' type='application/pdf' style='overflow: auto; "+c+"'/>",e.getElementsByTagName("embed")[0]},c=function(t,n,r){if("string"!=typeof t)return s("URL is not valid");n="undefined"!=typeof n&&n,r="undefined"!=typeof r?r:{};var o=r.id&&"string"==typeof r.id?"id='"+r.id+"'":"",c=!!r.page&&r.page,d=r.pdfOpenParams?r.pdfOpenParams:{},f="undefined"==typeof r.fallbackLink||r.fallbackLink,p=r.width?r.width:"100%",h=r.height?r.height:"100%",m="boolean"==typeof r.forcePDFJS&&r.forcePDFJS,g=!!r.PDFJS_URL&&r.PDFJS_URL,v=u(n),A="",b="",y="<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>";return v?(c&&(d.page=c),b=i(d),m&&g?a(v,t,b,g,o):e?l(v,n,t,b,p,h,o):g?a(v,t,b,g,o):(f&&(A="string"==typeof f?f:y,v.innerHTML=A.replace(/\[url\]/g,t)),s("This browser does not support embedded PDFs"))):s("Target element cannot be determined")},{embed:function(e,t,n){return c(e,t,n)},pdfobjectversion:function(){return d}(),supportsPDFs:function(){return e}()}})}]);