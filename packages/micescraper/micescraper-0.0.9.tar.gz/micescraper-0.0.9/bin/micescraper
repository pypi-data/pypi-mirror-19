#!/usr/bin/env python2.7

try:
  activate_this = './bin/activate_this.py'
  execfile(activate_this, dict(__file__=activate_this))
except:
  pass


import os
import click
from micescraper import scrape_applicant_id, scrape_listApplicants

@click.command()
@click.argument("username")
@click.argument("password")
@click.option("--url", help="URL of applicant list page", default=None)
@click.option("--cid", help="Candidate id", default=None)
@click.option("--outdir", help="output directory", default="downloads")
def main(username, password, url, cid, outdir):
  """
  Will download pdfs into ./downloads/ in the current dir
  Args:

    MICE username

    MICE password
  """
  os.makedirs(outdir)
  if url is not None:
    scrape_listApplicants(url, username, password, outdir)
  if cid is not None:
    scrape_applicant_id(cid, username, password, outdir)
  

if __name__ == '__main__':
  main()

