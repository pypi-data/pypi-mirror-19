

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MRIQC measures &mdash; mriqc 0.8 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="mriqc 0.8 documentation" href="index.html"/>
        <link rel="prev" title="The MRIQC Reports" href="mriqc.reports.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> mriqc
          

          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="userguide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide.html#contents">Contents</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MRIQC measures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#structural-images-smri">Structural images (<abbr title="structural MRI">sMRI</abbr>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functional-images-fmri">Functional images (<abbr title="functional MRI">fMRI</abbr>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">mriqc</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>MRIQC measures</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/measures.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mriqc-measures">
<h1>MRIQC measures<a class="headerlink" href="#mriqc-measures" title="Permalink to this headline">¶</a></h1>
<div class="section" id="structural-images-smri">
<h2>Structural images (<abbr title="structural MRI">sMRI</abbr>)<a class="headerlink" href="#structural-images-smri" title="Permalink to this headline">¶</a></h2>
<p>The <abbr title="image quality metrics">IQMs</abbr> computed are as follows:</p>
<ul>
<li><p class="first"><strong>fwhm</strong> (<em>nipype interface to AFNI</em>): The <abbr title="full-width half maximum">FWHM</abbr> of
the spatial distribution of the image intensity values in units of voxels <a class="reference internal" href="#friedman2008" id="id1">[Friedman2008]</a>.
Lower values are better</p>
</li>
<li><p class="first"><strong>snr</strong> (<a class="reference internal" href="mriqc.qc.html#mriqc.qc.anatomical.snr" title="mriqc.qc.anatomical.snr"><code class="xref py py-func docutils literal"><span class="pre">snr()</span></code></a>): <abbr title="Signal-to-Noise Ratio">SNR</abbr> as the mean
of image values within each tissue type divided by the standard deviation of the image values
within air (i.e., outside the head) <a class="reference internal" href="#magnota2006" id="id2">[Magnota2006]</a>. Higher values are better:</p>
<blockquote>
<div><div class="math">
\[\text{SNR} = \frac{\mu_F}{\sigma_\text{air}}\]</div>
</div></blockquote>
</li>
<li><p class="first"><strong>cnr</strong> (<a class="reference internal" href="mriqc.qc.html#mriqc.qc.anatomical.cnr" title="mriqc.qc.anatomical.cnr"><code class="xref py py-func docutils literal"><span class="pre">cnr()</span></code></a>): <abbr title="Contrast-to-Noise Ratio">CNR</abbr>
<a class="reference internal" href="#magnota2006" id="id3">[Magnota2006]</a>, high values are better:</p>
<blockquote>
<div><div class="math">
\[\text{CNR} = \frac{|\mu_\text{GM} - \mu_\text{WM} |}{\sigma_\text{air}},\]</div>
<p>where <span class="math">\(\sigma_\text{air}\)</span> is the standard deviation of the noise distribution within
the air (background) mask.</p>
</div></blockquote>
</li>
<li><p class="first"><strong>fber</strong> (<a class="reference internal" href="mriqc.qc.html#mriqc.qc.anatomical.fber" title="mriqc.qc.anatomical.fber"><code class="xref py py-func docutils literal"><span class="pre">fber()</span></code></a>): <abbr title="Foreground-Background Energy Ratio">FBER</abbr>,
defined as the mean energy of image values within the head relative to outside the head <a class="reference internal" href="#qap-measures" id="id4">[QAP-measures]</a>.
Higher values are better.</p>
<blockquote>
<div><div class="math">
\[\text{FBER} = \frac{E[|S|^2]}{E[|N_\text{air}|^2]}.\]</div>
</div></blockquote>
</li>
<li><p class="first"><strong>efc</strong> (<a class="reference internal" href="mriqc.qc.html#mriqc.qc.anatomical.efc" title="mriqc.qc.anatomical.efc"><code class="xref py py-func docutils literal"><span class="pre">efc()</span></code></a>): the <abbr title="Entropy Focus Criterion">EFC</abbr>
<a class="reference internal" href="#atkinson1997" id="id5">[Atkinson1997]</a> uses the Shannon entropy of voxel intensities as an indication of ghosting
and blurring induced by head motion. Lower values are better.</p>
<p>The original equation is normalized by the maximum entropy, so that the
<abbr title="Entropy Focus Criterion">EFC</abbr> can be compared across images with
different dimensions.</p>
</li>
<li><p class="first"><strong>qi1</strong> and <strong>qi2</strong> (<code class="xref py py-func docutils literal"><span class="pre">artifact()</span></code>):
Detect artifacts in the image using the method described in <a class="reference internal" href="#mortamet2009" id="id6">[Mortamet2009]</a>.
The <strong>q1</strong> is the proportion of voxels with intensity corrupted by artifacts
normalized by the number of voxels in the background. Lower values are better.</p>
<p>Optionally, it also calculates <strong>qi2</strong>, the distance between the distribution
of noise voxel (non-artifact background voxels) intensities, and a
Rician distribution.</p>
<div class="figure" id="id11">
<img alt="_images/mortamet-mrm2009.png" src="_images/mortamet-mrm2009.png" />
<p class="caption"><span class="caption-text">The workflow to compute the artifact detection from <a class="reference internal" href="#mortamet2009" id="id7">[Mortamet2009]</a>.</span></p>
</div>
</li>
<li><p class="first"><strong>icvs_*</strong> (<code class="xref py py-func docutils literal"><span class="pre">volume_fractions()</span></code>): the
<abbr title="intracranial volume">ICV</abbr> fractions of <abbr title="cerebrospinal fluid">CSF</abbr>,
<abbr title="gray-matter">GM</abbr> and <abbr title="white-matter">WM</abbr>. They should move within
a normative range.</p>
</li>
<li><p class="first"><strong>rpve_*</strong> (<a class="reference internal" href="mriqc.qc.html#mriqc.qc.anatomical.rpve" title="mriqc.qc.anatomical.rpve"><code class="xref py py-func docutils literal"><span class="pre">rpve()</span></code></a>): the
<abbr title="residual partial voluming error">rPVe</abbr> of <abbr title="cerebrospinal fluid">CSF</abbr>,
<abbr title="gray-matter">GM</abbr> and <abbr title="white-matter">WM</abbr>. Lower values are better.</p>
</li>
<li><p class="first"><strong>inu_*</strong> (<em>nipype interface to N4ITK</em>): summary statistics (max, min and median)
of the <abbr title="intensity non-uniformity">INU</abbr> field as extracted by the N4ITK algorithm
<a class="reference internal" href="#tustison2010" id="id8">[Tustison2010]</a>. Values closer to 1.0 are better.</p>
</li>
<li><p class="first"><strong>summary_*_*</strong> (<a class="reference internal" href="mriqc.qc.html#mriqc.qc.anatomical.summary_stats" title="mriqc.qc.anatomical.summary_stats"><code class="xref py py-func docutils literal"><span class="pre">summary_stats()</span></code></a>):
Mean, standard deviation, 5% percentile and 95% percentile of the distribution
of background, <abbr title="cerebrospinal fluid">CSF</abbr>, <abbr title="gray-matter">GM</abbr> and
<abbr title="white-matter">WM</abbr>.</p>
</li>
</ul>
<p>Most of these <abbr title="image quality metrics">IQMs</abbr> are migrated or derivated from
<a class="reference internal" href="#qap-measures" id="id9">[QAP-measures]</a>.</p>
</div>
<div class="section" id="functional-images-fmri">
<h2>Functional images (<abbr title="functional MRI">fMRI</abbr>)<a class="headerlink" href="#functional-images-fmri" title="Permalink to this headline">¶</a></h2>
<p>The <abbr title="image quality metrics">IQMs</abbr> computed are as follows:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="mriqc.qc.html#mriqc.qc.anatomical.efc" title="mriqc.qc.anatomical.efc"><code class="xref py py-func docutils literal"><span class="pre">efc()</span></code></a> Entropy Focus Criterion</li>
<li><strong>fber</strong> - Foreground to Background Energy Ratio</li>
<li><strong>fwhm</strong> - Full-width half maximum smoothness of the voxels averaged
across the three coordinate axes, and also for each axis [x,y,x]</li>
<li><strong>ghost_x</strong> - Ghost to Signal Ratio</li>
<li><strong>snr</strong> - Signal to Noise Ratio</li>
<li><strong>dvars</strong> - Spatial standard deviation of the voxelwise temporal
derivates</li>
<li><strong>gcor</strong> - Global Correlation</li>
<li><strong>mean_fd</strong> - Mean Fractional Displacement</li>
<li><strong>num_fd</strong> - Number of volumes with <abbr title="frame displacement">FD</abbr> greater than 0.2mm</li>
<li><strong>perc_fd</strong> - Percent of volumes with <abbr title="frame displacement">FD</abbr> greater than 0.2mm</li>
<li><strong>outlier</strong> - Mean fraction of outliers per fMRI volume</li>
<li><strong>quality</strong> - Median Distance Index</li>
<li><strong>summary_{mean, stdv, p05, p95}_*</strong> - Mean, standard deviation, 5% percentile and 95% percentile of the distribution of background and foreground.</li>
</ol>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><table class="docutils citation" frame="void" id="atkinson1997" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[Atkinson1997]</a></td><td>Atkinson et al., <em>Automatic correction of motion artifacts
in magnetic resonance images using an entropy
focus criterion</em>, IEEE Trans Med Imag 16(6):903-910, 1997.
doi:<a class="reference external" href="http://dx.doi.org/10.1109/42.650886">10.1109/42.650886</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="dietrich2007" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Dietrich2007]</td><td>Dietrich et al., <em>Measurement of SNRs in MR images: influence
of multichannel coils, parallel imaging and reconstruction filters</em>, JMRI 26(2):375&#8211;385.
2007. doi:<a class="reference external" href="http://dx.doi.org/10.1002/jmri.20969">10.1002/jmri.20969</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="friedman2008" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[Friedman2008]</a></td><td>Friedman, L et al., <em>Test&#8211;retest and between‐site reliability in a multicenter
fMRI study</em>. Hum Brain Mapp, 29(8):958&#8211;972, 2008. doi:<a class="reference external" href="http://dx.doi.org/10.1002/hbm.20440">10.1002/hbm.20440</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="ganzetti2016" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Ganzetti2016]</td><td>Ganzetti et al., <em>Intensity inhomogeneity correction of structural MR images:
a data-driven approach to define input algorithm parameters</em>. Front Neuroinform 10:10. 2016.
doi:<a class="reference external" href="http://dx.doi.org/10.3389/finf.201600010">10.3389/finf.201600010</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="giannelli2010" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Giannelli2010]</td><td>Giannelli et al., <em>Characterization of Nyquist ghost in
EPI-fMRI acquisition sequences implemented on two clinical 1.5 T MR scanner
systems: effect of readout bandwidth and echo spacing</em>. J App Clin Med Phy,
11(4). 2010.
doi:<a class="reference external" href="http://dx.doi.org/10.1120/jacmp.v11i4.3237">10.1120/jacmp.v11i4.3237</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="jenkinson2002" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Jenkinson2002]</td><td>Jenkinson et al., <em>Improved Optimisation for the Robust and
Accurate Linear Registration and Motion Correction of Brain Images</em>.
NeuroImage, 17(2), 825-841, 2002.
doi:<a class="reference external" href="http://dx.doi.org/10.1006/nimg.2002.1132">10.1006/nimg.2002.1132</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="kaufman1989" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Kaufman1989]</td><td>Kaufman et al., <em>Measuring signal-to-noise ratios in MR imaging</em>,Radiology 173(1)265&#8211;267, 1989. doi:<a class="reference external" href="http://dx.doi.org/10.1148/radiology.173.1.2781018">10.1148/radiology.173.1.2781018</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="magnota2006" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Magnota2006]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id3">2</a>)</em> Magnotta, VA., &amp; Friedman, L., <em>Measurement of signal-to-noise
and contrast-to-noise in the fBIRN multicenter imaging study</em>.
J Dig Imag 19(2):140-147, 2006. doi:<a class="reference external" href="http://dx.doi.org/10.1007/s10278-006-0264-x">10.1007/s10278-006-0264-x</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mortamet2009" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Mortamet2009]</td><td><em>(<a class="fn-backref" href="#id6">1</a>, <a class="fn-backref" href="#id7">2</a>)</em> Mortamet B et al., <em>Automatic quality assessment in
structural brain magnetic resonance imaging</em>, Mag Res Med 62(2):365-372,
2009. doi:<a class="reference external" href="http://dx.doi.org/10.1002/mrm.21992">10.1002/mrm.21992</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="nichols2013" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Nichols2013]</td><td>Nichols, <a class="reference external" href="http://www2.warwick.ac.uk/fac/sci/statistics/staff/academic-research/nichols/scripts/fsl/standardizeddvars.pdf">Notes on Creating a Standardized Version of DVARS</a>, 2013.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="power2012" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Power2012]</td><td>Poweret al., <em>Spurious but systematic correlations in
functional connectivity MRI networks arise from subject motion</em>,
NeuroImage 59(3):2142-2154,
2012, doi:<a class="reference external" href="http://dx.doi.org/10.1016/j.neuroimage.2011.10.018">10.1016/j.neuroimage.2011.10.018</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="qap" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[QAP]</td><td><a class="reference external" href="https://github.com/oesteban/quality-assessment-protocol/blob/enh/SmartQCWorkflow/qap/temporal_qc.py#L16">The QAP project</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="tustison2010" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[Tustison2010]</a></td><td>Tustison NJ et al., <em>N4ITK: improved N3 bias correction</em>, IEEE Trans Med Imag, 29(6):1310-20,
2010. doi:<a class="reference external" href="http://dx.doi.org/10.1109/TMI.2010.2046908">10.1109/TMI.2010.2046908</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="qap-measures" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[QAP-measures]</td><td><em>(<a class="fn-backref" href="#id4">1</a>, <a class="fn-backref" href="#id9">2</a>)</em> <a class="reference external" href="http://preprocessed-connectomes-project.github.io/quality-assessment-protocol/#taxonomy-of-qa-measures">The Quality Assessment Protocols website: Taxonomy of QA Measures</a>.</td></tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="mriqc.reports.html" class="btn btn-neutral" title="The MRIQC Reports" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Oscar Esteban.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.8',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>