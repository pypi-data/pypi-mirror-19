

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The MRIQC Reports &mdash; mriqc 0.8 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="mriqc 0.8 documentation" href="index.html"/>
        <link rel="up" title="User Guide" href="userguide.html"/>
        <link rel="next" title="MRIQC measures" href="measures.html"/>
        <link rel="prev" title="User Guide" href="userguide.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> mriqc
          

          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="userguide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide.html#contents">Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="measures.html">MRIQC measures</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Run mriqc with docker</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">mriqc</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="userguide.html">User Guide</a> &raquo;</li>
      
    <li>The MRIQC Reports</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/mriqc.reports.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-mriqc-reports">
<h1>The MRIQC Reports<a class="headerlink" href="#the-mriqc-reports" title="Permalink to this headline">¶</a></h1>
<div class="section" id="structural-images-smri">
<h2>Structural images (<abbr title="structural MRI">sMRI</abbr>)<a class="headerlink" href="#structural-images-smri" title="Permalink to this headline">¶</a></h2>
<p>After all processing has been completed, the designated output directory for the <code class="docutils literal"><span class="pre">mriqc</span></code> workflow will contain a set of pdf
files that contain the relevant reports for the set of scans undergoing
quality assessment. The set of output pdfs includes one pdf file per
input scan in the scan directory, e.g.:
<code class="docutils literal"><span class="pre">anatomical_sub-01.pdf</span></code>, which contains the T1 slice
mosaic and <abbr title="image quality metrics">IQMs</abbr> for that scan. There will also be a group report
pdf in the main output directory, e.g.:
<code class="docutils literal"><span class="pre">anatomical_group.pdf</span></code>, that contains summary metrics for
the entire set of scans.</p>
<div class="section" id="for-the-individual-scan-reports">
<h3>For the individual scan reports:<a class="headerlink" href="#for-the-individual-scan-reports" title="Permalink to this headline">¶</a></h3>
<p><strong>The T1 Anatomical Slice Mosaic</strong>:
This plot in the report for the scan being assessed, e.g.:</p>
<div class="figure" id="id1">
<img alt="example of mosaic view of one structural MRI image" src="_images/reports-anatomical-mosaic.png" />
<p class="caption"><span class="caption-text">is the rendering of the axial slices from the 3D stack created
by the workflow.</span></p>
</div>
<p>This image can be used to eyeball the quality of the overall
signal in the anatomical scan, as it will be obvious if there were any
problem areas where there was signal dropout resulting from a bad shim
or other sources of signal distortion.</p>
<p><strong>Metrics</strong>: The <abbr title="image quality metrics">IQMs</abbr> displayed in the Summary Report, e.g.:</p>
<div class="figure" id="id2">
<img alt="example of mosaic view of one structural MRI image" src="_images/reports-anatomical-violin.png" />
<p class="caption"><span class="caption-text">The stars in these plots denote where the score for the scans for
this participant fall in the distribution of all scores for scans that
were included as inputs to the anatomical-spatial workflow. If there are
several runs per session for this individual, then the stars will be
displayed adjacent to each other in the violin plot.</span></p>
</div>
</div>
<div class="section" id="for-the-group-reports">
<h3>For the group reports:<a class="headerlink" href="#for-the-group-reports" title="Permalink to this headline">¶</a></h3>
<p>The violin plots included in the group report, e.g.:
<code class="docutils literal"><span class="pre">anatomical_group.pdf</span></code>, are a graphical representation of
the columnar values in the <code class="docutils literal"><span class="pre">aMRIQC.csv</span></code> file that was
created in the main output directory for the workflow. The scores for
each metric described above were aggregated to create the distributions
that were plotted in both the individual and group reports. Hence, the
violin plots in the individual scan reports and the group reports are
identical, except that the group reports do not contain any stars
denoting individual scans. These group reports are intended to provide
the user a means of visually inspecting the overall quality of the
spatial data for that group of anatomical scans.</p>
</div>
</div>
<div class="section" id="functional-images-fmri">
<h2>Functional images (<abbr title="functional MRI">fMRI</abbr>)<a class="headerlink" href="#functional-images-fmri" title="Permalink to this headline">¶</a></h2>
<p>After all processing has been completed, the designated output directory
for the functional workflow will contain a set of pdf files that contain
the relevant reports for the set of scans undergoing quality assessment.
The set of output pdfs includes one pdf file per input scan, e.g.:
<code class="docutils literal"><span class="pre">functional_sub-01.pdf</span></code>, which contains a mosaic plot of the
mean <abbr title="echo-planar imaging">EPI</abbr> volume, a mosaic plot of the
<abbr title="signal-to-noise ration across timesteps">tSNR</abbr> volume, an
<abbr title="frame displacement">FD</abbr> plot, and
<abbr title="image quality metrics">IQMs</abbr> for that scan.
The <abbr title="image quality metrics">IQMs</abbr> are split in two
categories: <em>spatial</em> and <em>temporal</em>. There will also be a group report
pdf in that main output directory, e.g.: <code class="docutils literal"><span class="pre">functional_group.pdf</span></code>, that
contains the summary of <abbr title="image quality metrics">IQMs</abbr> for the entire set of scans.</p>
<p><strong>The Mean EPI Slice Mosaic</strong>:
This plot in the report for the scan being assessed, e.g.
<em>Mean EPI image (subject 1_session_1_scan_1)</em>
is the rendering of the axial slices from the 3D stack created by the
workflow.</p>
<div class="figure" id="id3">
<img alt="example of mosaic view of the average EPI image" src="_images/reports-functional-mosaic_0.png" />
<p class="caption"><span class="caption-text">This mean <abbr title="echo-planar imaging">EPI</abbr> was created by averaging
the <abbr title="blood-oxygen-level dependent">BOLD</abbr> signal intensity values
in each voxel over time.</span></p>
<div class="legend">
Hence, a 3-dimensional image was created from the 4-dimensional scan
and was displayed as a slice mosaic.</div>
</div>
<p>This image can be used to eyeball the quality of the overall
signal in the scan, as it will be obvious if there were any problem
areas where there was signal dropout resulting from a bad shim or other
sources of signal distortion (such as tattoos which contain metallic or
ferromagnetic compounds, or permanent makeup).</p>
<p><strong>The tSNR Slice Mosaic</strong>:
The image showing the <abbr title="signal-to-noise ration across timesteps">tSNR</abbr> map for a particular scan, e.g.:
<em>tSNR volume, subject sub-01 (session_1_func_1)</em>
is the rendering of the temporal signal-to-noise ratio information from
the scan.</p>
<div class="figure" id="id4">
<img alt="example of mosaic view of the tSNR image" src="_images/reports-functional-mosaic_1.png" />
<p class="caption"><span class="caption-text">The <abbr title="signal-to-noise ration across timesteps">tSNR</abbr> plot is similar to the mean <abbr title="echo-planar imaging">EPI</abbr> plot in that both metrics reduce the
4-dimensional scan to a representative 3-dimensional volume that is then
split and displayed as a stack of axial (horizontal) slices.
For this <abbr title="signal-to-noise ration across timesteps">tSNR</abbr> plot, the
mean of each voxel&#8217;s timeseries is also computed and is then divided by the
timeseries standard deviation.
Hence, the <abbr title="signal-to-noise ration across timesteps">tSNR</abbr> plot
shows the voxels in which one would expect to have SNR good enough for
statistical analyses.</span></p>
</div>
<p>Differences in <abbr title="signal-to-noise ration across timesteps">tSNR</abbr> are particularly important for
comparing the results from region of interest (ROI) analyses, since any
observed functional differences might actually be attributable to
systematic differences in <abbr title="signal-to-noise ratio">SNR</abbr> across the regions being compared. You can
learn more about the utility of <abbr title="signal-to-noise ration across timesteps">tSNR</abbr> plots for <abbr title="functional MRI">fMRI</abbr> analyses
<a class="reference external" href="http://practicalfmri.blogspot.com.es/2011/01/comparing-fmri-protocols.html">here</a>.</p>
<p><strong>The framewise displacement plot</strong>:
The image showing the framewise displacement plot for the scan being
assessed, e.g. <em>FD, subject sub-01 (session_1_func_1)</em>
is the <abbr title="frame displacement">FD</abbr> that occurred throughout the scan.</p>
<div class="figure" id="id5">
<img alt="example of mosaic view of the average EPI image" src="_images/reports-functional-fd.png" />
<p class="caption"><span class="caption-text">This is a temporal motion quality assurance metric and tracks head motions over
time, making it easy to determine whether or not the data potentially
suffered from significant corruption due to motion. For instance, it is
possible to detect if the participant&#8217;s head was slowly sinking into the
cushions in the head coil, or whether the participant was possibly
restless or agitated, which would result in several postion changes or
movement spikes. The framewise displacement is a frame-by-frame
representation of the differences between the <abbr title="blood-oxygen-level dependent">BOLD</abbr> signal intensity
value of the <span class="math">\(n\)</span> and <span class="math">\(n+1\)</span> timepoints, the <span class="math">\(n+1\)</span> and <span class="math">\(n+2\)</span>
timepoints, and so on.</span></p>
</div>
<p>The report page for <abbr title="frame displacement">FD</abbr> in the functional scan
includes both this frame-by-frame plot, as well as a histogram that can
be used to visually determine what proportion of timepoints exceeded
some pre-set movement threshold (eg: 0.2 mm).</p>
<p>The violin plots included in the group report, e.g.:
<em>QC measures (session_1)</em> are a graphical representation of the
columnar values in the <code class="docutils literal"><span class="pre">fMRIQC.csv</span></code> file that was
created in the main output directory for the workflow.</p>
<div class="figure">
<img alt="example of mosaic view of the average EPI image" src="_images/reports-functional-violin_0.png" />
</div>
<div class="figure">
<img alt="example of mosaic view of the average EPI image" src="_images/reports-functional-violin_1.png" />
</div>
<p>The scores for
each metric described above were aggregated to create the distributions
that were plotted in both the individual and group reports. Hence, the
violin plots in the individual scan reports and the group reports are
identical, except that the group reports do not contain any stars
denoting individual scans. These group reports are intended to provide
the user a means of visually inspecting the overall quality of the
spatial and temporal data for that group of functional scans.</p>
</div>
</div>
<div class="section" id="mriqc-reports-package">
<h1>mriqc.reports package<a class="headerlink" href="#mriqc-reports-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mriqc.reports.generators">
<span id="mriqc-reports-generators-module"></span><h2>mriqc.reports.generators module<a class="headerlink" href="#module-mriqc.reports.generators" title="Permalink to this headline">¶</a></h2>
<p>Encapsulates report generation functions</p>
<dl class="class">
<dt id="mriqc.reports.generators.ConfigGen">
<em class="property">class </em><code class="descclassname">mriqc.reports.generators.</code><code class="descname">ConfigGen</code><span class="sig-paren">(</span><em>template_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mriqc/reports/generators.html#ConfigGen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mriqc.reports.generators.ConfigGen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Utility class for generating a config file from a jinja template.
<a class="reference external" href="https://github.com/oesteban/endofday/blob/f2e79c625d648ef45b08cc1f11fd0bd84342d604/endofday/core/template.py">https://github.com/oesteban/endofday/blob/f2e79c625d648ef45b08cc1f11fd0bd84342d604/endofday/core/template.py</a></p>
<dl class="method">
<dt id="mriqc.reports.generators.ConfigGen.compile">
<code class="descname">compile</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mriqc/reports/generators.html#ConfigGen.compile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mriqc.reports.generators.ConfigGen.compile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mriqc.reports.generators.ConfigGen.generate_conf">
<code class="descname">generate_conf</code><span class="sig-paren">(</span><em>configs</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mriqc/reports/generators.html#ConfigGen.generate_conf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mriqc.reports.generators.ConfigGen.generate_conf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mriqc.reports.generators.concat_pdf">
<code class="descclassname">mriqc.reports.generators.</code><code class="descname">concat_pdf</code><span class="sig-paren">(</span><em>in_files</em>, <em>out_file='concatenated.pdf'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mriqc/reports/generators.html#concat_pdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mriqc.reports.generators.concat_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate PDF list (<a class="reference external" href="http://stackoverflow.com/a/3444735">http://stackoverflow.com/a/3444735</a>)</p>
</dd></dl>

<dl class="function">
<dt id="mriqc.reports.generators.generate_csv">
<code class="descclassname">mriqc.reports.generators.</code><code class="descname">generate_csv</code><span class="sig-paren">(</span><em>data_type</em>, <em>settings</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mriqc/reports/generators.html#generate_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mriqc.reports.generators.generate_csv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mriqc.reports.generators.report_anatomical">
<code class="descclassname">mriqc.reports.generators.</code><code class="descname">report_anatomical</code><span class="sig-paren">(</span><em>dframe</em>, <em>subject=None</em>, <em>sc_split=False</em>, <em>condensed=True</em>, <em>out_file='anatomical.pdf'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mriqc/reports/generators.html#report_anatomical"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mriqc.reports.generators.report_anatomical" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls the report generator on the functional measures</p>
</dd></dl>

<dl class="function">
<dt id="mriqc.reports.generators.report_functional">
<code class="descclassname">mriqc.reports.generators.</code><code class="descname">report_functional</code><span class="sig-paren">(</span><em>dframe</em>, <em>subject=None</em>, <em>sc_split=False</em>, <em>condensed=True</em>, <em>out_file='functional.pdf'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mriqc/reports/generators.html#report_functional"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mriqc.reports.generators.report_functional" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls the report generator on the functional measures</p>
</dd></dl>

<dl class="function">
<dt id="mriqc.reports.generators.summary_cover">
<code class="descclassname">mriqc.reports.generators.</code><code class="descname">summary_cover</code><span class="sig-paren">(</span><em>dframe</em>, <em>qctype</em>, <em>failed=None</em>, <em>sub_id=None</em>, <em>out_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mriqc/reports/generators.html#summary_cover"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mriqc.reports.generators.summary_cover" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a cover page with subject information</p>
</dd></dl>

<dl class="function">
<dt id="mriqc.reports.generators.workflow_report">
<code class="descclassname">mriqc.reports.generators.</code><code class="descname">workflow_report</code><span class="sig-paren">(</span><em>qctype</em>, <em>settings=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mriqc/reports/generators.html#workflow_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mriqc.reports.generators.workflow_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the report</p>
</dd></dl>

</div>
<div class="section" id="module-mriqc.reports.utils">
<span id="mriqc-reports-utils-module"></span><h2>mriqc.reports.utils module<a class="headerlink" href="#module-mriqc.reports.utils" title="Permalink to this headline">¶</a></h2>
<p>Helpers in report generation</p>
<dl class="function">
<dt id="mriqc.reports.utils.find_failed">
<code class="descclassname">mriqc.reports.utils.</code><code class="descname">find_failed</code><span class="sig-paren">(</span><em>dframe</em>, <em>sub_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mriqc/reports/utils.html#find_failed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mriqc.reports.utils.find_failed" title="Permalink to this definition">¶</a></dt>
<dd><p>Identify failed subjects</p>
</dd></dl>

<dl class="function">
<dt id="mriqc.reports.utils.read_csv">
<code class="descclassname">mriqc.reports.utils.</code><code class="descname">read_csv</code><span class="sig-paren">(</span><em>in_csv</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mriqc/reports/utils.html#read_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mriqc.reports.utils.read_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Read csv file, sort and drop duplicates</p>
</dd></dl>

</div>
<div class="section" id="module-mriqc.reports">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mriqc.reports" title="Permalink to this headline">¶</a></h2>
<p>Reports module</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="measures.html" class="btn btn-neutral float-right" title="MRIQC measures" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="userguide.html" class="btn btn-neutral" title="User Guide" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Oscar Esteban.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.8',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>