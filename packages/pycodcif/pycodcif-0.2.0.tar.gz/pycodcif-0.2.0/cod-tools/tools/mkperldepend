#!/bin/sh
#!perl -w # --*- Perl -*--
eval 'exec perl -x $0 ${1+"$@"}'
    if 0;
#------------------------------------------------------------------------------
#$Author: antanas $
#$Date: 2016-01-18 22:30:36 +0000 (Mon, 18 Jan 2016) $
#$Revision: 4539 $
#$URL: svn://www.crystallography.net/cod-tools/trunk/tools/mkperldepend $
#------------------------------------------------------------------------------

use strict;
use warnings;
use Module::ScanDeps;

local $\ = "\n";

foreach my $file (@ARGV) {
    print "$file: ",
           join( " ", sort map {"src/lib/perl5/$_"}
                      grep {/^COD/}
                      keys %{ scan_deps( files => [ $file ],
                                         recurse => 1 ) } );
}
