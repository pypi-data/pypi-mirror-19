{"version":3,"sources":["webpack:///jira.js","webpack:///webpack/bootstrap fb587fa3266bff28084a","webpack:///./jira.jsx","webpack:///external \"React\"","webpack:///external \"Sentry\"","webpack:///./components/issueActions.jsx","webpack:///./components/settings.jsx","webpack:///external \"underscore\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","getter","get","parent","getPrototypeOf","_react","_react2","_sentry","_componentsSettings","_componentsSettings2","_componentsIssueActions","_componentsIssueActions2","Jira","_plugins$DefaultIssuePlugin","this","apply","createElement","plugin","plugins","DefaultIssuePlugin","displayName","add","React","Sentry","_defineProperty","IssueActions","_plugins$DefaultIssuePlugin$DefaultIssueActions","action","name","_this","formData","state","FormState","LOADING","setState","onLoad","bind","api","request","getPluginCreateEndpoint","encodeURIComponent","success","data","oldData","createFormData","forEach","field","val","choices","find","createFieldList","error","loading","onLoadSuccess","errorHandler","_this2","form","actionType","renderField","has_autocomplete","url","getGroup","slug","config","onChange","changeField","isRequired","f","required","fields","requiredFields","filter","map","optionalFields","Form","onSubmit","createIssue","submitLabel","footerClass","DefaultIssueActions","_underscore","_underscore2","Settings","_plugins$BasePlugin$DefaultSettings","PAGE_FIELD_LIST","0","1","2","back","startEditing","isLastPage","page","default_project","getPluginEndpoint","initialData","defaultValue","fieldList","editing","onLoadError","isEqual","onSaveSuccess","onSaveComplete","default_issue_type","default_priority","method","errors","onSaveError","responseJSON","complete","ev","preventDefault","SAVING","_this3","LoadingIndicator","ERROR","className","href","isSaving","includes","readonly","submitDisabled","extraButton","onClick","__all__","formErrors","BasePlugin","DefaultSettings","underscore"],"mappings":"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","file":"jira.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _sentry = __webpack_require__(2);\n\t\n\tvar _componentsSettings = __webpack_require__(4);\n\t\n\tvar _componentsSettings2 = _interopRequireDefault(_componentsSettings);\n\t\n\tvar _componentsIssueActions = __webpack_require__(3);\n\t\n\tvar _componentsIssueActions2 = _interopRequireDefault(_componentsIssueActions);\n\t\n\tvar Jira = (function (_plugins$DefaultIssuePlugin) {\n\t    _inherits(Jira, _plugins$DefaultIssuePlugin);\n\t\n\t    function Jira() {\n\t        _classCallCheck(this, Jira);\n\t\n\t        _get(Object.getPrototypeOf(Jira.prototype), 'constructor', this).apply(this, arguments);\n\t    }\n\t\n\t    _createClass(Jira, [{\n\t        key: 'renderSettings',\n\t        value: function renderSettings(props) {\n\t            return _react2['default'].createElement(_componentsSettings2['default'], _extends({ plugin: this }, props));\n\t        }\n\t    }, {\n\t        key: 'renderGroupActions',\n\t        value: function renderGroupActions(props) {\n\t            return _react2['default'].createElement(_componentsIssueActions2['default'], _extends({ plugin: this }, props));\n\t        }\n\t    }]);\n\t\n\t    return Jira;\n\t})(_sentry.plugins.DefaultIssuePlugin);\n\t\n\tJira.displayName = 'Jira';\n\t\n\t_sentry.plugins.add('jira', Jira);\n\t\n\texports['default'] = Jira;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = React;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Sentry;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _sentry = __webpack_require__(2);\n\t\n\tvar IssueActions = (function (_plugins$DefaultIssuePlugin$DefaultIssueActions) {\n\t  _inherits(IssueActions, _plugins$DefaultIssuePlugin$DefaultIssueActions);\n\t\n\t  function IssueActions() {\n\t    _classCallCheck(this, IssueActions);\n\t\n\t    _get(Object.getPrototypeOf(IssueActions.prototype), 'constructor', this).apply(this, arguments);\n\t  }\n\t\n\t  _createClass(IssueActions, [{\n\t    key: 'changeField',\n\t    value: function changeField(action, name, value) {\n\t      var _this = this;\n\t\n\t      var key = action + 'FormData';\n\t      var formData = _extends({}, this.state[key], _defineProperty({}, name, value));\n\t      var state = _defineProperty({}, key, formData);\n\t      if (name === 'issuetype') {\n\t        state.state = _sentry.FormState.LOADING;\n\t        this.setState(state, this.onLoad.bind(this, function () {\n\t          _this.api.request(_this.getPluginCreateEndpoint() + '?issue_type=' + encodeURIComponent(value), {\n\t            success: function success(data) {\n\t              // Try not to change things the user might have edited\n\t              // unless they're no longer valid\n\t              var oldData = _this.state.createFormData;\n\t              var createFormData = {};\n\t              data.forEach(function (field) {\n\t                var val = undefined;\n\t                if (field.choices && !field.choices.find(function (c) {\n\t                  return c[0] === oldData[field.name];\n\t                })) {\n\t                  val = field['default'];\n\t                } else {\n\t                  val = oldData[field.name] || field['default'];\n\t                }\n\t                createFormData[field.name] = val;\n\t              });\n\t              _this.setState({\n\t                createFieldList: data,\n\t                error: null,\n\t                loading: false,\n\t                createFormData: createFormData\n\t              }, _this.onLoadSuccess);\n\t            },\n\t            error: _this.errorHandler\n\t          });\n\t        }));\n\t        return;\n\t      }\n\t      this.setState(state);\n\t    }\n\t  }, {\n\t    key: 'renderForm',\n\t    value: function renderForm() {\n\t      var _this2 = this;\n\t\n\t      var form = undefined;\n\t\n\t      // For create form, split into required and optional fields\n\t      if (this.props.actionType === 'create') {\n\t        if (this.state.createFieldList) {\n\t          (function () {\n\t            var renderField = function renderField(field) {\n\t              if (field.has_autocomplete) {\n\t                field = Object.assign({\n\t                  url: '/api/0/issues/' + _this2.getGroup().id + '/plugins/' + _this2.props.plugin.slug + '/autocomplete'\n\t                }, field);\n\t              }\n\t              return _react2['default'].createElement(\n\t                'div',\n\t                { key: field.name },\n\t                _this2.renderField({\n\t                  config: field,\n\t                  formData: _this2.state.createFormData,\n\t                  onChange: _this2.changeField.bind(_this2, 'create', field.name)\n\t                })\n\t              );\n\t            };\n\t            var isRequired = function isRequired(f) {\n\t              return f.required != null ? f.required : true;\n\t            };\n\t\n\t            var fields = _this2.state.createFieldList;\n\t            var requiredFields = fields.filter(function (f) {\n\t              return isRequired(f);\n\t            }).map(function (f) {\n\t              return renderField(f);\n\t            });\n\t            var optionalFields = fields.filter(function (f) {\n\t              return !isRequired(f);\n\t            }).map(function (f) {\n\t              return renderField(f);\n\t            });\n\t            form = _react2['default'].createElement(\n\t              _sentry.Form,\n\t              { onSubmit: _this2.createIssue, submitLabel: 'Create Issue', footerClass: '' },\n\t              _react2['default'].createElement(\n\t                'h5',\n\t                null,\n\t                'Required Fields'\n\t              ),\n\t              requiredFields,\n\t              optionalFields.length ? _react2['default'].createElement(\n\t                'h5',\n\t                null,\n\t                'Optional Fields'\n\t              ) : null,\n\t              optionalFields\n\t            );\n\t          })();\n\t        }\n\t      } else {\n\t        form = _get(Object.getPrototypeOf(IssueActions.prototype), 'renderForm', this).call(this);\n\t      }\n\t\n\t      return form;\n\t    }\n\t  }]);\n\t\n\t  return IssueActions;\n\t})(_sentry.plugins.DefaultIssuePlugin.DefaultIssueActions);\n\t\n\texports['default'] = IssueActions;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _underscore = __webpack_require__(5);\n\t\n\tvar _underscore2 = _interopRequireDefault(_underscore);\n\t\n\tvar _sentry = __webpack_require__(2);\n\t\n\tvar Settings = (function (_plugins$BasePlugin$DefaultSettings) {\n\t  _inherits(Settings, _plugins$BasePlugin$DefaultSettings);\n\t\n\t  function Settings(props) {\n\t    _classCallCheck(this, Settings);\n\t\n\t    _get(Object.getPrototypeOf(Settings.prototype), 'constructor', this).call(this, props);\n\t    this.PAGE_FIELD_LIST = {\n\t      '0': ['instance_url', 'username', 'password'],\n\t      '1': ['default_project'],\n\t      '2': ['ignored_fields', 'default_priority', 'default_issue_type', 'auto_create']\n\t    };\n\t\n\t    this.back = this.back.bind(this);\n\t    this.startEditing = this.startEditing.bind(this);\n\t    this.isLastPage = this.isLastPage.bind(this);\n\t\n\t    Object.assign(this.state, {\n\t      page: 0\n\t    });\n\t  }\n\t\n\t  _createClass(Settings, [{\n\t    key: 'isConfigured',\n\t    value: function isConfigured(state) {\n\t      state = state || this.state;\n\t      return !!(this.state.formData && this.state.formData.default_project);\n\t    }\n\t  }, {\n\t    key: 'isLastPage',\n\t    value: function isLastPage() {\n\t      return this.state.page === 2;\n\t    }\n\t  }, {\n\t    key: 'fetchData',\n\t    value: function fetchData() {\n\t      var _this = this;\n\t\n\t      // This is mostly copy paste of parent class\n\t      // except for setting edit state\n\t      this.api.request(this.getPluginEndpoint(), {\n\t        success: function success(data) {\n\t          var formData = {};\n\t          var initialData = {};\n\t          data.config.forEach(function (field) {\n\t            formData[field.name] = field.value || field.defaultValue;\n\t            initialData[field.name] = field.value;\n\t          });\n\t          _this.setState({\n\t            fieldList: data.config,\n\t            formData: formData,\n\t            initialData: initialData,\n\t            // start off in edit mode if there isn't a project set\n\t            editing: !(formData && formData.default_project)\n\t          }, // call this here to prevent FormState.READY from being\n\t          // set before fieldList is\n\t          _this.onLoadSuccess);\n\t        },\n\t        error: this.onLoadError\n\t      });\n\t    }\n\t  }, {\n\t    key: 'startEditing',\n\t    value: function startEditing() {\n\t      this.setState({ editing: true });\n\t    }\n\t  }, {\n\t    key: 'onSubmit',\n\t    value: function onSubmit() {\n\t      var _this2 = this;\n\t\n\t      if (_underscore2['default'].isEqual(this.state.initialData, this.state.formData)) {\n\t        if (this.isLastPage()) {\n\t          this.setState({ editing: false, page: 0 });\n\t        } else {\n\t          this.setState({ page: this.state.page + 1 });\n\t        }\n\t        this.onSaveSuccess(this.onSaveComplete);\n\t        return;\n\t      }\n\t      var formData = Object.assign({}, this.state.formData);\n\t      // if the project has changed, it's likely these values aren't valid anymore\n\t      if (formData.default_project !== this.state.initialData.default_project) {\n\t        formData.default_issue_type = null;\n\t        formData.default_priority = null;\n\t      }\n\t      this.api.request(this.getPluginEndpoint(), {\n\t        data: formData,\n\t        method: 'PUT',\n\t        success: this.onSaveSuccess.bind(this, function (data) {\n\t          var formData = {};\n\t          var initialData = {};\n\t          data.config.forEach(function (field) {\n\t            formData[field.name] = field.value || field.defaultValue;\n\t            initialData[field.name] = field.value;\n\t          });\n\t          var state = {\n\t            formData: formData,\n\t            initialData: initialData,\n\t            errors: {},\n\t            fieldList: data.config\n\t          };\n\t          if (_this2.isLastPage()) {\n\t            state.editing = false;\n\t            state.page = 0;\n\t          } else {\n\t            state.page = _this2.state.page + 1;\n\t          }\n\t          _this2.setState(state);\n\t        }),\n\t        error: this.onSaveError.bind(this, function (error) {\n\t          _this2.setState({\n\t            errors: (error.responseJSON || {}).errors || {}\n\t          });\n\t        }),\n\t        complete: this.onSaveComplete\n\t      });\n\t    }\n\t  }, {\n\t    key: 'back',\n\t    value: function back(ev) {\n\t      ev.preventDefault();\n\t      if (this.state.state === _sentry.FormState.SAVING) {\n\t        return;\n\t      }\n\t      this.setState({\n\t        page: this.state.page - 1\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this3 = this;\n\t\n\t      if (this.state.state === _sentry.FormState.LOADING) {\n\t        return _react2['default'].createElement(_sentry.LoadingIndicator, null);\n\t      }\n\t\n\t      if (this.state.state === _sentry.FormState.ERROR && !this.state.fieldList) {\n\t        return _react2['default'].createElement(\n\t          'div',\n\t          { className: 'alert alert-error m-b-1' },\n\t          'An unknown error occurred. Need help with this? ',\n\t          _react2['default'].createElement(\n\t            'a',\n\t            { href: 'https://sentry.io/support/' },\n\t            'Contact support'\n\t          )\n\t        );\n\t      }\n\t\n\t      var isSaving = this.state.state === _sentry.FormState.SAVING;\n\t\n\t      var fields = undefined;\n\t      var onSubmit = undefined;\n\t      var submitLabel = undefined;\n\t      if (this.state.editing) {\n\t        fields = this.state.fieldList.filter(function (f) {\n\t          return _this3.PAGE_FIELD_LIST[_this3.state.page].includes(f.name);\n\t        });\n\t        onSubmit = this.onSubmit;\n\t        submitLabel = this.isLastPage() ? 'Finish' : 'Save and Continue';\n\t      } else {\n\t        fields = this.state.fieldList.map(function (f) {\n\t          return Object.assign({}, f, { readonly: true });\n\t        });\n\t        onSubmit = this.startEditing;\n\t        submitLabel = 'Edit';\n\t      }\n\t      return _react2['default'].createElement(\n\t        _sentry.Form,\n\t        { onSubmit: onSubmit,\n\t          submitDisabled: isSaving,\n\t          submitLabel: submitLabel,\n\t          extraButton: this.state.page === 0 ? null : _react2['default'].createElement(\n\t            'a',\n\t            { href: '#',\n\t              className: 'btn btn-default pull-left' + (isSaving ? ' disabled' : ''),\n\t              onClick: this.back },\n\t            'Back'\n\t          ) },\n\t        this.state.errors.__all__ && _react2['default'].createElement(\n\t          'div',\n\t          { className: 'alert alert-block alert-error' },\n\t          _react2['default'].createElement(\n\t            'ul',\n\t            null,\n\t            _react2['default'].createElement(\n\t              'li',\n\t              null,\n\t              this.state.errors.__all__\n\t            )\n\t          )\n\t        ),\n\t        fields.map(function (f) {\n\t          return _this3.renderField({\n\t            config: f,\n\t            formData: _this3.state.formData,\n\t            formErrors: _this3.state.errors,\n\t            onChange: _this3.changeField.bind(_this3, f.name)\n\t          });\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Settings;\n\t})(_sentry.plugins.BasePlugin.DefaultSettings);\n\t\n\texports['default'] = Settings;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = underscore;\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// jira.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fb587fa3266bff28084a","import React from 'react';\nimport {plugins} from 'sentry';\n\nimport Settings from './components/settings';\nimport IssueActions from './components/issueActions';\n\nclass Jira extends plugins.DefaultIssuePlugin {\n    renderSettings(props) {\n        return <Settings plugin={this} {...props} />;\n    }\n\n    renderGroupActions(props) {\n        return <IssueActions plugin={this} {...props} />\n    }\n}\n\nJira.displayName = 'Jira';\n\nplugins.add('jira', Jira);\n\nexport default Jira;\n\n\n\n// WEBPACK FOOTER //\n// ./jira.jsx","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 1\n// module chunks = 0","module.exports = Sentry;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Sentry\"\n// module id = 2\n// module chunks = 0","import React from 'react';\nimport {Form, FormState, plugins} from 'sentry';\n\n\nclass IssueActions extends plugins.DefaultIssuePlugin.DefaultIssueActions {\n  changeField(action, name, value) {\n    let key = action + 'FormData';\n    let formData = {\n      ...this.state[key],\n      [name]: value\n    };\n    let state = {\n      [key]: formData\n    };\n    if (name === 'issuetype') {\n      state.state = FormState.LOADING;\n      this.setState(state, this.onLoad.bind(this, () => {\n        this.api.request((this.getPluginCreateEndpoint() +\n                          '?issue_type=' + encodeURIComponent(value)), {\n          success: (data) => {\n            // Try not to change things the user might have edited\n            // unless they're no longer valid\n            let oldData = this.state.createFormData;\n            let createFormData = {};\n            data.forEach((field) => {\n              let val;\n              if (field.choices && !field.choices.find(c => c[0] === oldData[field.name])) {\n                val = field.default;\n              } else {\n                val = oldData[field.name] || field.default;\n              }\n              createFormData[field.name] = val;\n            });\n            this.setState({\n              createFieldList: data,\n              error: null,\n              loading: false,\n              createFormData: createFormData\n            }, this.onLoadSuccess);\n          },\n          error: this.errorHandler\n        });\n      }))\n      return;\n    }\n    this.setState(state);\n  }\n\n  renderForm() {\n    let form;\n\n    // For create form, split into required and optional fields\n    if (this.props.actionType === 'create') {\n      if (this.state.createFieldList) {\n        let renderField = (field) => {\n          if (field.has_autocomplete) {\n            field = Object.assign({\n              url: ('/api/0/issues/' + this.getGroup().id +\n                    '/plugins/' + this.props.plugin.slug + '/autocomplete')\n            }, field);\n          }\n          return (\n            <div key={field.name}>\n              {this.renderField({\n                config: field,\n                formData: this.state.createFormData,\n                onChange: this.changeField.bind(this, 'create', field.name)\n              })}\n            </div>\n          );\n        };\n        let isRequired = (f) => {\n          return f.required != null ? f.required : true;\n        };\n\n        let fields = this.state.createFieldList;\n        let requiredFields = fields.filter(f => isRequired(f)).map(f => renderField(f));\n        let optionalFields = fields.filter(f => !isRequired(f)).map(f => renderField(f));\n        form = (\n          <Form onSubmit={this.createIssue} submitLabel='Create Issue' footerClass=\"\">\n            <h5>Required Fields</h5>\n            {requiredFields}\n            {optionalFields.length ? <h5>Optional Fields</h5> : null}\n            {optionalFields}\n          </Form>\n        );\n      }\n    } else {\n      form = super.renderForm();\n    }\n\n    return form;\n  }\n}\n\nexport default IssueActions;\n\n\n\n// WEBPACK FOOTER //\n// ./components/issueActions.jsx","import React from 'react';\nimport _ from 'underscore';\nimport {Form, FormState, LoadingIndicator, plugins} from 'sentry';\n\n\nclass Settings extends plugins.BasePlugin.DefaultSettings {\n  constructor(props) {\n    super(props);\n    this.PAGE_FIELD_LIST = {\n      '0': ['instance_url', 'username', 'password'],\n      '1': ['default_project'],\n      '2': ['ignored_fields','default_priority', 'default_issue_type', 'auto_create']\n    }\n\n    this.back = this.back.bind(this);\n    this.startEditing = this.startEditing.bind(this);\n    this.isLastPage = this.isLastPage.bind(this);\n\n    Object.assign(this.state, {\n      page: 0\n    });\n  }\n\n  isConfigured(state) {\n    state = state || this.state;\n    return !!(this.state.formData && this.state.formData.default_project);\n  }\n\n  isLastPage() {\n    return this.state.page === 2;\n  }\n\n  fetchData() {\n    // This is mostly copy paste of parent class\n    // except for setting edit state\n    this.api.request(this.getPluginEndpoint(), {\n      success: data => {\n        let formData = {};\n        let initialData = {};\n        data.config.forEach((field) => {\n          formData[field.name] = field.value || field.defaultValue;\n          initialData[field.name] = field.value;\n        });\n        this.setState({\n          fieldList: data.config,\n          formData: formData,\n          initialData: initialData,\n          // start off in edit mode if there isn't a project set\n          editing: !(formData && formData.default_project),\n        // call this here to prevent FormState.READY from being\n        // set before fieldList is\n        }, this.onLoadSuccess);\n      },\n      error: this.onLoadError\n    });\n  }\n\n  startEditing() {\n    this.setState({editing: true});\n  }\n\n  onSubmit() {\n    if (_.isEqual(this.state.initialData, this.state.formData)) {\n      if (this.isLastPage()) {\n        this.setState({editing: false, page: 0})\n      } else {\n        this.setState({page: this.state.page + 1});\n      }\n      this.onSaveSuccess(this.onSaveComplete);\n      return;\n    }\n    let formData = Object.assign({}, this.state.formData);\n    // if the project has changed, it's likely these values aren't valid anymore\n    if (formData.default_project !== this.state.initialData.default_project) {\n      formData.default_issue_type = null;\n      formData.default_priority = null;\n    }\n    this.api.request(this.getPluginEndpoint(), {\n      data: formData,\n      method: 'PUT',\n      success: this.onSaveSuccess.bind(this, data => {\n        let formData = {};\n        let initialData = {};\n        data.config.forEach((field) => {\n          formData[field.name] = field.value || field.defaultValue;\n          initialData[field.name] = field.value;\n        });\n        let state = {\n          formData: formData,\n          initialData: initialData,\n          errors: {},\n          fieldList: data.config\n        };\n        if (this.isLastPage()) {\n          state.editing = false;\n          state.page = 0;\n        } else {\n          state.page = this.state.page + 1;\n        }\n        this.setState(state);\n      }),\n      error: this.onSaveError.bind(this, error => {\n        this.setState({\n          errors: (error.responseJSON || {}).errors || {},\n        });\n      }),\n      complete: this.onSaveComplete\n    });\n  }\n\n  back(ev) {\n    ev.preventDefault();\n    if (this.state.state === FormState.SAVING) {\n      return;\n    }\n    this.setState({\n      page: this.state.page - 1\n    });\n  }\n\n  render() {\n    if (this.state.state === FormState.LOADING) {\n      return <LoadingIndicator />;\n    }\n\n    if (this.state.state === FormState.ERROR && !this.state.fieldList) {\n      return (\n        <div className=\"alert alert-error m-b-1\">\n          An unknown error occurred. Need help with this? <a href=\"https://sentry.io/support/\">Contact support</a>\n        </div>\n      );\n    }\n\n    let isSaving = this.state.state === FormState.SAVING;\n\n    let fields;\n    let onSubmit;\n    let submitLabel;\n    if (this.state.editing) {\n      fields = this.state.fieldList.filter(f => {\n        return this.PAGE_FIELD_LIST[this.state.page].includes(f.name);\n      });\n      onSubmit = this.onSubmit;\n      submitLabel = this.isLastPage() ? 'Finish' : 'Save and Continue';\n    } else {\n      fields = this.state.fieldList.map(f => {\n        return Object.assign({}, f, {readonly: true});\n      });\n      onSubmit = this.startEditing;\n      submitLabel = 'Edit';\n    }\n    return (\n      <Form onSubmit={onSubmit}\n            submitDisabled={isSaving}\n            submitLabel={submitLabel}\n            extraButton={this.state.page === 0 ? null :\n                         <a href=\"#\"\n                            className={'btn btn-default pull-left' + (isSaving ? ' disabled' : '')}\n                            onClick={this.back}>Back</a>}>\n        {this.state.errors.__all__ &&\n          <div className=\"alert alert-block alert-error\">\n            <ul>\n              <li>{this.state.errors.__all__}</li>\n            </ul>\n          </div>\n        }\n        {fields.map(f => {\n          return this.renderField({\n            config: f,\n            formData: this.state.formData,\n            formErrors: this.state.errors,\n            onChange: this.changeField.bind(this, f.name)\n          });\n        })}\n      </Form>\n    );\n  }\n}\n\nexport default Settings;\n\n\n\n// WEBPACK FOOTER //\n// ./components/settings.jsx","module.exports = underscore;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"underscore\"\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}