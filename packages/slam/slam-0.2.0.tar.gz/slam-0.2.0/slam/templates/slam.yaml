---
# slam configuration file

# the name and description of the project
name: "{{name}}"
description: "{{description}}"

# the deployment type
# currently, only "wsgi" is supported
type: wsgi

# WSGI server details
wsgi:
  module: "{{module}}"
  app: "{{app}}"

# location of the requirements file for the project
requirements: "{{requirements}}"

# the name of the development stage
devstage: "{{devstage}}"

# environment variables common to all stages
# add any variables in this section as "key: value" pairs
environment:

# environment variables specific to each stage
# add or remove stages by editing the entries in this section
# add any stage specific variables under each stage section as "key: value" pairs
stage_environments:
  {% for stage in stages %}
  {{stage}}:

  {% endfor %}

# AWS specific options
aws:
  # S3 bucket where lambda packages are stored
  s3_bucket: "{{bucket}}"

  # timeout in seconds for the lambda function
  lambda_timeout: {{timeout}}

  # memory in MB for the lambda function
  lambda_memory: {{memory}}

  # dynamodb tables
  dynamodb_tables:
    # example of a simple table:
    # mytable:
    #   attributes:
    #     id: "S"
    #   key: "id"
    #   provisioned_throughput: [1, 1]
    #
    # a more complex example:
    # mytable2:
    #   attributes:
    #     id: "S"
    #     name: "S"
    #     age: "N"
    #   key: ["id", "name"]
    #   provisioned_throughput: [1, 1]
    #   local_secondary_indexes:
    #     myindex:
    #       key: ["id", "age"]
    #       project:
    #         - "name"
    #   global_secondary_indexes:
    #     myindex2:
    #       key: ["age", "name"]
    #       project: "all"
    #       provisioned_throughput: [1, 1]
    {% for table in tables %}
    {{table}}:
      attributes:
        id: "S"
      key: "id"
      provisioned_throughput: [1, 1]
    {% endfor %}

  # custom cloudformation template
  # leave empty to use the default cloudformation template
  # you can use "slam template" or "slam template --raw" to export the default
  # template and then add your customizations
  cfn_template:
