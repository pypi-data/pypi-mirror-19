<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuration &#8212; Workload Automation 2.6.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Workloads" href="extensions/workloads.html" />
    <link rel="prev" title="Agenda" href="agenda.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="extensions/workloads.html" title="Workloads"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="agenda.html" title="Agenda"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workload Automation 2.6.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="configuration">
<span id="configuration-specification"></span><h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<p>In addition to specifying run execution parameters through an agenda, the
behavior of WA can be modified through configuration file(s). The default
configuration file is <code class="docutils literal"><span class="pre">~/.workload_automation/config.py</span></code>  (the location can be
changed by setting <code class="docutils literal"><span class="pre">WA_USER_DIRECTORY</span></code> environment variable, see <a class="reference internal" href="#envvars"><span class="std std-ref">Environment Variables</span></a>
section below). This file will be
created when you first run WA if it does not already exist. This file must
always exist and will always be loaded. You can add to or override the contents
of that file on invocation of Workload Automation by specifying an additional
configuration file using <code class="docutils literal"><span class="pre">--config</span></code> option.</p>
<p>The config file is just a Python source file, so it can contain any valid Python
code (though execution of arbitrary code through the config file is
discouraged). Variables with specific names  will be picked up by the framework
and used to modify the behavior of Workload automation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As of version 2.1.3 is also possible to specify the following
configuration in the agenda. See <a class="reference internal" href="agenda.html#configuration-in-agenda"><span class="std std-ref">configuration in an agenda</span></a>.</p>
</div>
<div class="section" id="available-settings">
<span id="id1"></span><h2>Available Settings<a class="headerlink" href="#available-settings" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Extensions such as workloads, instrumentation or result processors
may also pick up certain settings from this file, so the list below is
not exhaustive. Please refer to the documentation for the specific
extensions to see what settings they accept.</p>
</div>
<dl class="confval">
<dt id="confval-device">
<code class="descname">device</code><a class="headerlink" href="#confval-device" title="Permalink to this definition">¶</a></dt>
<dd><p>This setting defines what specific Device subclass will be used to interact
the connected device. Obviously, this must match your setup.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-device_config">
<code class="descname">device_config</code><a class="headerlink" href="#confval-device_config" title="Permalink to this definition">¶</a></dt>
<dd><p>This must be a Python dict containing setting-value mapping for the
configured <code class="xref rst rst-dir docutils literal"><span class="pre">device</span></code>. What settings and values are valid is specific
to each device. Please refer to the documentation for your device.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-reboot_policy">
<code class="descname">reboot_policy</code><a class="headerlink" href="#confval-reboot_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>This defines when during execution of a run the Device will be rebooted. The
possible values are:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">&quot;never&quot;</span></code></dt>
<dd>The device will never be rebooted.</dd>
<dt><code class="docutils literal"><span class="pre">&quot;initial&quot;</span></code></dt>
<dd>The device will be rebooted when the execution first starts, just before
executing the first workload spec.</dd>
<dt><code class="docutils literal"><span class="pre">&quot;each_spec&quot;</span></code></dt>
<dd>The device will be rebooted before running a new workload spec.
Note: this acts the same as each_iteration when execution order is set to by_iteration</dd>
<dt><code class="docutils literal"><span class="pre">&quot;each_iteration&quot;</span></code></dt>
<dd>The device will be rebooted before each new iteration.</dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="execution_model.html"><span class="doc">Framework Overview</span></a></p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-execution_order">
<code class="descname">execution_order</code><a class="headerlink" href="#confval-execution_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the order in which the agenda spec will be executed. At the moment,
the following execution orders are supported:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">&quot;by_iteration&quot;</span></code></dt>
<dd><p class="first">The first iteration of each workload spec is executed one after the other,
so all workloads are executed before proceeding on to the second iteration.
E.g. A1 B1 C1 A2 C2 A3. This is the default if no order is explicitly specified.</p>
<p>In case of multiple sections, this will spread them out, such that specs
from the same section are further part. E.g. given sections X and Y, global
specs A and B, and two iterations, this will run</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">A1</span><span class="p">,</span> <span class="n">Y</span><span class="o">.</span><span class="n">A1</span><span class="p">,</span> <span class="n">X</span><span class="o">.</span><span class="n">B1</span><span class="p">,</span> <span class="n">Y</span><span class="o">.</span><span class="n">B1</span><span class="p">,</span> <span class="n">X</span><span class="o">.</span><span class="n">A2</span><span class="p">,</span> <span class="n">Y</span><span class="o">.</span><span class="n">A2</span><span class="p">,</span> <span class="n">X</span><span class="o">.</span><span class="n">B2</span><span class="p">,</span> <span class="n">Y</span><span class="o">.</span><span class="n">B2</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">&quot;by_section&quot;</span></code></dt>
<dd><p class="first">Same  as <code class="docutils literal"><span class="pre">&quot;by_iteration&quot;</span></code>, however this will group specs from the same
section together, so given sections X and Y, global specs A and B, and two iterations,
this will run</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">A1</span><span class="p">,</span> <span class="n">X</span><span class="o">.</span><span class="n">B1</span><span class="p">,</span> <span class="n">Y</span><span class="o">.</span><span class="n">A1</span><span class="p">,</span> <span class="n">Y</span><span class="o">.</span><span class="n">B1</span><span class="p">,</span> <span class="n">X</span><span class="o">.</span><span class="n">A2</span><span class="p">,</span> <span class="n">X</span><span class="o">.</span><span class="n">B2</span><span class="p">,</span> <span class="n">Y</span><span class="o">.</span><span class="n">A2</span><span class="p">,</span> <span class="n">Y</span><span class="o">.</span><span class="n">B2</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">&quot;by_spec&quot;</span></code></dt>
<dd>All iterations of the first spec are executed before moving on to the next
spec. E.g. A1 A2 A3 B1 C1 C2 This may also be specified as <code class="docutils literal"><span class="pre">&quot;classic&quot;</span></code>,
as this was the way workloads were executed in earlier versions of WA.</dd>
<dt><code class="docutils literal"><span class="pre">&quot;random&quot;</span></code></dt>
<dd>Execution order is entirely random.</dd>
</dl>
<p>Added in version 2.1.5.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-retry_on_status">
<code class="descname">retry_on_status</code><a class="headerlink" href="#confval-retry_on_status" title="Permalink to this definition">¶</a></dt>
<dd><p>This is list of statuses on which a job will be cosidered to have failed and
will be automatically retried up to <code class="docutils literal"><span class="pre">max_retries</span></code> times. This defaults to
<code class="docutils literal"><span class="pre">[&quot;FAILED&quot;,</span> <span class="pre">&quot;PARTIAL&quot;]</span></code> if not set. Possible values are:</p>
<p><code class="docutils literal"><span class="pre">&quot;OK&quot;</span></code>
This iteration has completed and no errors have been detected</p>
<p><code class="docutils literal"><span class="pre">&quot;PARTIAL&quot;</span></code>
One or more instruments have failed (the iteration may still be running).</p>
<p><code class="docutils literal"><span class="pre">&quot;FAILED&quot;</span></code>
The workload itself has failed.</p>
<p><code class="docutils literal"><span class="pre">&quot;ABORTED&quot;</span></code>
The user interupted the workload</p>
</dd></dl>

<dl class="confval">
<dt id="confval-max_retries">
<code class="descname">max_retries</code><a class="headerlink" href="#confval-max_retries" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum number of times failed jobs will be retried before giving up. If
not set, this will default to <code class="docutils literal"><span class="pre">3</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this number does not include the original attempt</p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-instrumentation">
<code class="descname">instrumentation</code><a class="headerlink" href="#confval-instrumentation" title="Permalink to this definition">¶</a></dt>
<dd><p>This should be a list of instruments to be enabled during run execution.
Values must be names of available instruments. Instruments are used to
collect additional data, such as energy measurements or execution time,
during runs.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="api/wlauto.instrumentation.html"><span class="doc">wlauto.instrumentation package</span></a></p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-result_processors">
<code class="descname">result_processors</code><a class="headerlink" href="#confval-result_processors" title="Permalink to this definition">¶</a></dt>
<dd><p>This should be a list of result processors to be enabled during run execution.
Values must be names of available result processors. Result processor define
how data is output from WA.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="api/wlauto.result_processors.html"><span class="doc">wlauto.result_processors package</span></a></p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-logging">
<code class="descname">logging</code><a class="headerlink" href="#confval-logging" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict that contains logging setting. At the moment only three settings are
supported:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">&quot;file</span> <span class="pre">format&quot;</span></code></dt>
<dd>Controls how logging output appears in the run.log file in the output
directory.</dd>
<dt><code class="docutils literal"><span class="pre">&quot;verbose</span> <span class="pre">format&quot;</span></code></dt>
<dd>Controls how logging output appear on the console when <code class="docutils literal"><span class="pre">--verbose</span></code> flag
was used.</dd>
<dt><code class="docutils literal"><span class="pre">&quot;regular</span> <span class="pre">format&quot;</span></code></dt>
<dd>Controls how logging output appear on the console when <code class="docutils literal"><span class="pre">--verbose</span></code> flag
was not used.</dd>
</dl>
<p>All three values should be Python <a class="reference external" href="http://docs.python.org/2/library/stdtypes.html#string-formatting-operations">old-style format strings</a> specifying which
<a class="reference external" href="http://docs.python.org/2/library/logging.html#logrecord-attributes">log record attributes</a> should be displayed.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-remote_assets_path">
<code class="descname">remote_assets_path</code><a class="headerlink" href="#confval-remote_assets_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the local mount of a network assets repository. See
<a class="reference internal" href="installation.html#assets-repository"><span class="std std-ref">Maintaining Centralized Assets Repository</span></a>.</p>
</dd></dl>

<p>There are also a couple of settings are used to provide additional metadata
for a run. These may get picked up by instruments or result processors to
attach  context to results.</p>
<dl class="confval">
<dt id="confval-project">
<code class="descname">project</code><a class="headerlink" href="#confval-project" title="Permalink to this definition">¶</a></dt>
<dd><p>A string naming the project for which data is being collected. This may be
useful, e.g. when uploading data to a shared database that is populated from
multiple projects.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-project_stage">
<code class="descname">project_stage</code><a class="headerlink" href="#confval-project_stage" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict or a string that allows adding additional identifier. This is may be
useful for long-running projects.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-run_name">
<code class="descname">run_name</code><a class="headerlink" href="#confval-run_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A string that labels the WA run that is bing performed. This would typically
be set in the <code class="docutils literal"><span class="pre">config</span></code> section of an agenda (see
<a class="reference internal" href="agenda.html#configuration-in-agenda"><span class="std std-ref">configuration in an agenda</span></a>) rather than in the config file.</p>
</dd></dl>

</div>
<div class="section" id="environment-variables">
<span id="envvars"></span><h2>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h2>
<p>In addition to standard configuration described above, WA behaviour can be
altered through environment variables. These can determine where WA looks for
various assets when it starts.</p>
<dl class="confval">
<dt id="confval-WA_USER_DIRECTORY">
<code class="descname">WA_USER_DIRECTORY</code><a class="headerlink" href="#confval-WA_USER_DIRECTORY" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the location WA will look for config.py, inustrumentation , and it
will also be used for local caches, etc. If this variable is not set, the
default location is <code class="docutils literal"><span class="pre">~/.workload_automation</span></code> (this is created when WA
is installed).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This location <strong>must</strong> be writable by the user who runs WA.</p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-WA_EXTENSION_PATHS">
<code class="descname">WA_EXTENSION_PATHS</code><a class="headerlink" href="#confval-WA_EXTENSION_PATHS" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, WA will look for extensions in its own package and in
subdirectories under <code class="docutils literal"><span class="pre">WA_USER_DIRECTORY</span></code>. This environment variable can
be used specify a colon-separated list of additional locations WA should
use to look for extensions.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configuration</a><ul>
<li><a class="reference internal" href="#available-settings">Available Settings</a></li>
<li><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="agenda.html"
                        title="previous chapter">Agenda</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="extensions/workloads.html"
                        title="next chapter">Workloads</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/configuration.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="extensions/workloads.html" title="Workloads"
             >next</a> |</li>
        <li class="right" >
          <a href="agenda.html" title="Agenda"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workload Automation 2.6.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013, ARM Ltd.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
  </body>
</html>