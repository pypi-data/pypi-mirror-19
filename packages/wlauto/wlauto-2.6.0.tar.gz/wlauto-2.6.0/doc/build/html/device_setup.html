<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Setting Up A Device &#8212; Workload Automation 2.6.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Commands" href="invocation.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="invocation.html" title="Commands"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workload Automation 2.6.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="setting-up-a-device">
<h1>Setting Up A Device<a class="headerlink" href="#setting-up-a-device" title="Permalink to this headline">¶</a></h1>
<p>WA should work with most Android devices out-of-the box, as long as the device
is discoverable by <code class="docutils literal"><span class="pre">adb</span></code> (i.e. gets listed when you run <code class="docutils literal"><span class="pre">adb</span> <span class="pre">devices</span></code>). For
USB-attached devices, that should be the case; for network devices, <code class="docutils literal"><span class="pre">adb</span> <span class="pre">connect</span></code>
would need to be invoked with the IP address of the device. If there is only one
device connected to the host running WA, then no further configuration should be
necessary (though you may want to <a class="reference internal" href="#configuring-android"><span class="std std-ref">tweak some Android settings</span></a>).</p>
<p>If you have multiple devices connected, have a non-standard Android build (e.g.
on a development board), or want to use of the more advanced WA functionality,
further configuration will be required.</p>
<div class="section" id="android">
<h2>Android<a class="headerlink" href="#android" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-device-setup">
<h3>General Device Setup<a class="headerlink" href="#general-device-setup" title="Permalink to this headline">¶</a></h3>
<p>You can specify the device interface by setting <code class="docutils literal"><span class="pre">device</span></code> setting in
<code class="docutils literal"><span class="pre">~/.workload_automation/config.py</span></code>. Available interfaces can be viewed by
running <code class="docutils literal"><span class="pre">wa</span> <span class="pre">list</span> <span class="pre">devices</span></code> command. If you don&#8217;t see your specific device
listed (which is likely unless you&#8217;re using one of the ARM-supplied platforms), then
you should use <code class="docutils literal"><span class="pre">generic_android</span></code> interface (this is set in the config by
default).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">device</span> <span class="o">=</span> <span class="s1">&#39;generic_android&#39;</span>
</pre></div>
</div>
<p>The device interface may be configured through <code class="docutils literal"><span class="pre">device_config</span></code> setting, who&#8217;s
value is a <code class="docutils literal"><span class="pre">dict</span></code> mapping setting names to their values. You can find the full
list of available parameter by looking up your device interface in the
<a class="reference internal" href="extensions/devices.html#devices"><span class="std std-ref">Devices</span></a> section of the documentation. Some of the most common parameters
you might want to change are outlined below.</p>
<dl class="confval">
<dt id="confval-adb_name">
<code class="descname">adb_name</code><a class="headerlink" href="#confval-adb_name" title="Permalink to this definition">¶</a></dt>
<dd><p>If you have multiple Android devices connected to the host machine, you will
need to set this to indicate to WA which device you want it to use.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-working_directory">
<code class="descname">working_directory</code><a class="headerlink" href="#confval-working_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>WA needs a &#8220;working&#8221; directory on the device which it will use for collecting
traces, caching assets it pushes to the device, etc. By default, it will
create one under <code class="docutils literal"><span class="pre">/sdcard</span></code> which should be mapped and writable on standard
Android builds. If this is not the case for your device, you will need to
specify an alternative working directory (e.g. under <code class="docutils literal"><span class="pre">/data/local</span></code>).</p>
</dd></dl>

<dl class="confval">
<dt id="confval-scheduler">
<code class="descname">scheduler</code><a class="headerlink" href="#confval-scheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>This specifies the scheduling mechanism (from the perspective of core layout)
utilized by the device). For recent big.LITTLE devices, this should generally
be &#8220;hmp&#8221; (ARM Hetrogeneous Mutli-Processing); some legacy development
platforms might have Linaro IKS kernels, in which case it should be &#8220;iks&#8221;.
For homogeneous (single-cluster) devices, it should be &#8220;smp&#8221;. Please see
<code class="docutils literal"><span class="pre">scheduler</span></code> parameter  in the <code class="docutils literal"><span class="pre">generic_android</span></code> device documentation for
more details.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-core_names">
<code class="descname">core_names</code><a class="headerlink" href="#confval-core_names" title="Permalink to this definition">¶</a></dt>
<dd><p>This and <code class="docutils literal"><span class="pre">core_clusters</span></code> need to be set if you want to utilize some more
advanced WA functionality (like setting of core-related runtime parameters
such as governors, frequencies, etc). <code class="docutils literal"><span class="pre">core_names</span></code> should be a list of
core names matching the order in which they are exposed in sysfs. For
example, ARM TC2 SoC is a 2x3 big.LITTLE system; its core_names would be
<code class="docutils literal"><span class="pre">['a7',</span> <span class="pre">'a7',</span> <span class="pre">'a7',</span> <span class="pre">'a15',</span> <span class="pre">'a15']</span></code>, indicating that cpu0-cpu2 in cpufreq
sysfs structure are A7&#8217;s and cpu3 and cpu4 are A15&#8217;s.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-core_clusters">
<code class="descname">core_clusters</code><a class="headerlink" href="#confval-core_clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal"><span class="pre">core_names</span></code> is defined, this must also be defined. This is a list of
integer values indicating the cluster the corresponding core in
<code class="docutils literal"><span class="pre">cores_names</span></code> belongs to. For example, for TC2, this would be
<code class="docutils literal"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1]</span></code>, indicating that A7&#8217;s are on cluster 0 and A15&#8217;s are on
cluster 1.</p>
</dd></dl>

<p>A typical <code class="docutils literal"><span class="pre">device_config</span></code> inside <code class="docutils literal"><span class="pre">config.py</span></code> may look something like</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">device_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="s1">&#39;adb_name&#39;</span><span class="o">=</span><span class="s1">&#39;0123456789ABCDEF&#39;</span><span class="p">,</span>
        <span class="s1">&#39;working_direcory&#39;</span><span class="o">=</span><span class="s1">&#39;/sdcard/wa-working&#39;</span><span class="p">,</span>
        <span class="s1">&#39;core_names&#39;</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a7&#39;</span><span class="p">,</span> <span class="s1">&#39;a7&#39;</span><span class="p">,</span> <span class="s1">&#39;a7&#39;</span><span class="p">,</span> <span class="s1">&#39;a15&#39;</span><span class="p">,</span> <span class="s1">&#39;a15&#39;</span><span class="p">],</span>
        <span class="s1">&#39;core_clusters&#39;</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
        <span class="c1"># ...</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="configuring-android">
<span id="id1"></span><h3>Configuring Android<a class="headerlink" href="#configuring-android" title="Permalink to this headline">¶</a></h3>
<p>There are a few additional tasks you may need to perform once you have a device
booted into Android (especially if this is an initial boot of a fresh OS
deployment):</p>
<blockquote>
<div><ul class="simple">
<li>You have gone through FTU (first time usage) on the home screen and
in the apps menu.</li>
<li>You have disabled the screen lock.</li>
<li>You have set sleep timeout to the highest possible value (30 mins on
most devices).</li>
<li>You have disabled brightness auto-adjust and have set the brightness
to a fixed level.</li>
<li>You have set the locale language to &#8220;English&#8221; (this is important for
some workloads in which UI automation looks for specific text in UI
elements).</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="tc2-setup">
<h3>TC2 Setup<a class="headerlink" href="#tc2-setup" title="Permalink to this headline">¶</a></h3>
<p>This section outlines how to setup ARM TC2 development platform to work with WA.</p>
<div class="section" id="pre-requisites">
<h4>Pre-requisites<a class="headerlink" href="#pre-requisites" title="Permalink to this headline">¶</a></h4>
<p>You can obtain the full set of images for TC2 from Linaro:</p>
<p><a class="reference external" href="https://releases.linaro.org/latest/android/vexpress-lsk">https://releases.linaro.org/latest/android/vexpress-lsk</a>.</p>
<p>For the easiest setup, follow the instructions on the &#8220;Firmware&#8221; and &#8220;Binary
Image Installation&#8221; tabs on that page.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The default <code class="docutils literal"><span class="pre">reboot_policy</span></code> in <code class="docutils literal"><span class="pre">config.py</span></code> is to not reboot. With
this WA will assume that the device is already booted into Android
prior to WA being invoked. If you want to WA to do the initial boot of
the TC2, you will have to change reboot policy to at least
<code class="docutils literal"><span class="pre">initial</span></code>.</p>
</div>
</div>
<div class="section" id="setting-up-images">
<h4>Setting Up Images<a class="headerlink" href="#setting-up-images" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure that both DIP switches near the black reset button on TC2
are up (this is counter to the Linaro guide that instructs to lower
one of the switches).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The TC2 must have an Ethernet connection.</p>
</div>
<p>If you have followed the setup instructions on the Linaro page, you should have
a USB stick or an SD card with the file system, and internal microSD on the
board (VEMSD) with the firmware images. The default Linaro configuration is to
boot from the image on the boot partition in the file system you have just
created. This is not supported by WA, which expects the image to be in NOR flash
on the board. This requires you to copy the images from the boot partition onto
the internal microSD card.</p>
<p>Assuming the boot partition of the Linaro file system is mounted on
<code class="docutils literal"><span class="pre">/media/boot</span></code> and the internal microSD  is mounted on <code class="docutils literal"><span class="pre">/media/VEMSD</span></code>, copy
the following images:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">zImage</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">VEMSD</span><span class="o">/</span><span class="n">SOFTWARE</span><span class="o">/</span><span class="n">kern_mp</span><span class="o">.</span><span class="n">bin</span>
<span class="n">cp</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">initrd</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">VEMSD</span><span class="o">/</span><span class="n">SOFTWARE</span><span class="o">/</span><span class="n">init_mp</span><span class="o">.</span><span class="n">bin</span>
<span class="n">cp</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">boot</span><span class="o">/</span><span class="n">v2p</span><span class="o">-</span><span class="n">ca15</span><span class="o">-</span><span class="n">tc2</span><span class="o">.</span><span class="n">dtb</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">VEMSD</span><span class="o">/</span><span class="n">SOFTWARE</span><span class="o">/</span><span class="n">mp_a7bc</span><span class="o">.</span><span class="n">dtb</span>
</pre></div>
</div>
<div class="section" id="optionally">
<h5>Optionally<a class="headerlink" href="#optionally" title="Permalink to this headline">¶</a></h5>
<p>The default device tree configuration the TC2 is to boot on the A7 cluster. It
is also possible to configure the device tree to boot on the A15 cluster, or to
boot with one of the clusters disabled (turning TC2 into an A7-only or A15-only
device). Please refer to the &#8220;Firmware&#8221; tab on the Linaro paged linked above for
instructions on how to compile the appropriate device tree configurations.</p>
<p>WA allows selecting between these configurations using <code class="docutils literal"><span class="pre">os_mode</span></code> boot
parameter of the TC2 device interface. In order for this to work correctly,
device tree files for the A15-bootcluster, A7-only and A15-only configurations
should be copied into <code class="docutils literal"><span class="pre">/media/VEMSD/SOFTWARE/</span></code> as <code class="docutils literal"><span class="pre">mp_a15bc.dtb</span></code>,
<code class="docutils literal"><span class="pre">mp_a7.dtb</span></code> and <code class="docutils literal"><span class="pre">mp_a15.dtb</span></code> respectively.</p>
<p>This is entirely optional. If you&#8217;re not planning on switching boot cluster
configuration, those files do not need to be present in VEMSD.</p>
</div>
<div class="section" id="config-txt">
<h5>config.txt<a class="headerlink" href="#config-txt" title="Permalink to this headline">¶</a></h5>
<p>Also, make sure that <code class="docutils literal"><span class="pre">USB_REMOTE</span></code> setting in <code class="docutils literal"><span class="pre">/media/VEMSD/config.txt</span></code> is set
to <code class="docutils literal"><span class="pre">TRUE</span></code> (this will allow rebooting the device by writing reboot.txt to
VEMSD).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">USB_REMOTE</span><span class="p">:</span> <span class="n">TRUE</span>                 <span class="p">;</span><span class="n">Selects</span> <span class="n">remote</span> <span class="n">command</span> <span class="n">via</span> <span class="n">USB</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tc2-specific-device-config-settings">
<h4>TC2-specific device_config settings<a class="headerlink" href="#tc2-specific-device-config-settings" title="Permalink to this headline">¶</a></h4>
<p>There are a few settings that may need to be set in <code class="docutils literal"><span class="pre">device_config</span></code> inside
your <code class="docutils literal"><span class="pre">config.py</span></code> which are specific to TC2:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">TC2 <em>does not</em> accept most &#8220;standard&#8221; android <code class="docutils literal"><span class="pre">device_config</span></code>
settings.</p>
</div>
<dl class="docutils">
<dt>adb_name</dt>
<dd>If you&#8217;re running WA with reboots disabled (which is the default reboot
policy), you will need to manually run <code class="docutils literal"><span class="pre">adb</span> <span class="pre">connect</span></code> with TC2&#8217;s IP
address and set this.</dd>
<dt>root_mount</dt>
<dd>WA expects TC2&#8217;s internal microSD to be mounted on the host under
<code class="docutils literal"><span class="pre">/media/VEMSD</span></code>. If this location is different, it needs to be specified
using this setting.</dd>
<dt>boot_firmware</dt>
<dd>WA defaults to try booting using UEFI, which will require some additional
firmware from ARM that may not be provided with Linaro releases (see the
UEFI and PSCI section below). If you do not have those images, you will
need to set <code class="docutils literal"><span class="pre">boot_firmware</span></code> to <code class="docutils literal"><span class="pre">bootmon</span></code>.</dd>
<dt>fs_medium</dt>
<dd>TC2&#8217;s file system can reside either on an SD card or on a USB stick. Boot
configuration is different depending on this. By default,  WA expects it
to be on <code class="docutils literal"><span class="pre">usb</span></code>; if you are using and SD card, you should set this to
<code class="docutils literal"><span class="pre">sd</span></code>.</dd>
<dt>bm_image</dt>
<dd>Bootmon image that comes as part of TC2 firmware periodically gets
updated. At the time of the release, <code class="docutils literal"><span class="pre">bm_v519r.axf</span></code> was used by
ARM. If you are using a more recent image, you will need to set this
indicating the image name (just the name of the actual file, <em>not</em> the
path). Note: this setting only applies if using <code class="docutils literal"><span class="pre">bootmon</span></code> boot
firmware.</dd>
<dt>serial_device</dt>
<dd>WA will assume TC2 is connected on <code class="docutils literal"><span class="pre">/dev/ttyS0</span></code> by default. If the
serial port is different, you will need to set this.</dd>
</dl>
</div>
<div class="section" id="uefi-and-psci">
<h4>UEFI and PSCI<a class="headerlink" href="#uefi-and-psci" title="Permalink to this headline">¶</a></h4>
<p>UEFI is a boot firmware alternative to bootmon. Currently UEFI is coupled with PSCI (Power State Coordination Interface). That means
that in order to use PSCI, UEFI has to be the boot firmware. Currently the reverse dependency is true as well (for TC2). Therefore
using UEFI requires enabling PSCI.</p>
<p>In case you intend to use uefi/psci mode instead of bootmon, you will need two additional files: tc2_sec.bin and tc2_uefi.bin.
after obtaining those files, place them inside /media/VEMSD/SOFTWARE/ directory as such:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">tc2_sec</span><span class="o">.</span><span class="n">bin</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">VEMSD</span><span class="o">/</span><span class="n">SOFTWARE</span><span class="o">/</span>
<span class="n">cp</span> <span class="n">tc2_uefi</span><span class="o">.</span><span class="n">bin</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">VEMSD</span><span class="o">/</span><span class="n">SOFTWARE</span><span class="o">/</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="juno-setup">
<h3>Juno Setup<a class="headerlink" href="#juno-setup" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At the time of writing, the Android software stack on Juno was still
very immature. Some workloads may not run, and there maybe stability
issues with the device.</p>
</div>
<p>The full software stack can be obtained from Linaro:</p>
<p><a class="reference external" href="https://releases.linaro.org/14.08/members/arm/android/images/armv8-android-juno-lsk">https://releases.linaro.org/14.08/members/arm/android/images/armv8-android-juno-lsk</a></p>
<p>Please follow the instructions on the &#8220;Binary Image Installation&#8221; tab on that
page. More up-to-date firmware and kernel may also be obtained by registered
members from ARM Connected Community: <a class="reference external" href="http://www.arm.com/community/">http://www.arm.com/community/</a> (though this
is not guaranteed to work with the Linaro file system).</p>
<div class="section" id="uefi">
<h4>UEFI<a class="headerlink" href="#uefi" title="Permalink to this headline">¶</a></h4>
<p>Juno uses <a class="reference external" href="http://en.wikipedia.org/wiki/UEFI">UEFI</a> to boot the kernel image.  UEFI supports multiple boot
configurations, and presents a menu on boot to select (in default configuration
it will automatically boot the first entry in the menu if not interrupted before
a timeout). WA will look for a specific entry in the UEFI menu
(<code class="docutils literal"><span class="pre">'WA'</span></code> by default, but that may be changed by setting <code class="docutils literal"><span class="pre">uefi_entry</span></code> in the
<code class="docutils literal"><span class="pre">device_config</span></code>). When following the UEFI instructions on the above Linaro
page, please make sure to name the entry appropriately (or to correctly set the
<code class="docutils literal"><span class="pre">uefi_entry</span></code>).</p>
<p>There are two supported way for Juno to discover kernel images through UEFI. It
can either load them from NOR flash on the board, or form boot partition on the
file system. The setup described on the Linaro page uses the boot partition
method.</p>
<p>If WA does not find the UEFI entry it expects, it will create one. However, it
will assume that the kernel image resides in NOR flash, which means it will not
work with Linaro file system. So if you&#8217;re replicating the Linaro setup exactly,
you will need to create the entry manually, as outline on the above-linked page.</p>
</div>
<div class="section" id="rebooting">
<h4>Rebooting<a class="headerlink" href="#rebooting" title="Permalink to this headline">¶</a></h4>
<p>At the time of writing, normal Android reboot did not work properly on Juno
Android, causing the device to crash into an irrecoverable state. Therefore, WA
will perform a hard reset to reboot the device. It will attempt to do this by
toggling the DTR line on the serial connection to the device. In order for this
to work, you need to make sure that SW1 configuration switch on the back panel of
the board (the right-most DIP switch) is toggled <em>down</em>.</p>
</div>
</div>
</div>
<div class="section" id="linux">
<h2>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3>General Device Setup<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>You can specify the device interface by setting <code class="docutils literal"><span class="pre">device</span></code> setting in
<code class="docutils literal"><span class="pre">~/.workload_automation/config.py</span></code>. Available interfaces can be viewed by
running <code class="docutils literal"><span class="pre">wa</span> <span class="pre">list</span> <span class="pre">devices</span></code> command. If you don&#8217;t see your specific device
listed (which is likely unless you&#8217;re using one of the ARM-supplied platforms), then
you should use <code class="docutils literal"><span class="pre">generic_linux</span></code> interface (this is set in the config by
default).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">device</span> <span class="o">=</span> <span class="s1">&#39;generic_linux&#39;</span>
</pre></div>
</div>
<p>The device interface may be configured through <code class="docutils literal"><span class="pre">device_config</span></code> setting, who&#8217;s
value is a <code class="docutils literal"><span class="pre">dict</span></code> mapping setting names to their values. You can find the full
list of available parameter by looking up your device interface in the
<a class="reference internal" href="extensions/devices.html#devices"><span class="std std-ref">Devices</span></a> section of the documentation. Some of the most common parameters
you might want to change are outlined below.</p>
<p>Currently, the only only supported method for talking to a Linux device is over
SSH. Device configuration must specify the parameters need to establish the
connection.</p>
<dl class="confval">
<dt id="confval-host">
<code class="descname">host</code><a class="headerlink" href="#confval-host" title="Permalink to this definition">¶</a></dt>
<dd><p>This should be either the the DNS name or IP address of the device.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-username">
<code class="descname">username</code><a class="headerlink" href="#confval-username" title="Permalink to this definition">¶</a></dt>
<dd><p>The login name of the user on the device that WA will use. This user should
have a home directory (unless an alternative working directory is specified
using <code class="docutils literal"><span class="pre">working_directory</span></code> config &#8211; see below), and, for full
functionality, the user should have sudo rights (WA will be able to use
sudo-less acounts but some instruments or workload may not work).</p>
</dd></dl>

<dl class="confval">
<dt id="confval-password">
<code class="descname">password</code><a class="headerlink" href="#confval-password" title="Permalink to this definition">¶</a></dt>
<dd><p>Password for the account on the device. Either this of a <code class="docutils literal"><span class="pre">keyfile</span></code> (see
below) must be specified.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-keyfile">
<code class="descname">keyfile</code><a class="headerlink" href="#confval-keyfile" title="Permalink to this definition">¶</a></dt>
<dd><p>If key-based authentication is used, this may be used to specify the SSH identity
file instead of the password.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-property_files">
<code class="descname">property_files</code><a class="headerlink" href="#confval-property_files" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a list of paths that will be pulled for each WA run into the __meta
subdirectory in the results. The intention is to collect meta-data about the
device that may aid in reporducing the results later. The paths specified do
not have to exist on the device (they will be ignored if they do not). The
default list is <code class="docutils literal"><span class="pre">['/proc/version',</span> <span class="pre">'/etc/debian_version',</span> <span class="pre">'/etc/lsb-release',</span> <span class="pre">'/etc/arch-release']</span></code></p>
</dd></dl>

<p>In addition, <code class="docutils literal"><span class="pre">working_directory</span></code>, <code class="docutils literal"><span class="pre">scheduler</span></code>, <code class="docutils literal"><span class="pre">core_names</span></code>, and
<code class="docutils literal"><span class="pre">core_clusters</span></code> can also be specified and have the same meaning as for Android
devices (see above).</p>
<p>A typical <code class="docutils literal"><span class="pre">device_config</span></code> inside <code class="docutils literal"><span class="pre">config.py</span></code> may look something like</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">device_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s1">&#39;192.168.0.7&#39;</span><span class="p">,</span>
        <span class="n">username</span><span class="o">=</span><span class="s1">&#39;guest&#39;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s1">&#39;guest&#39;</span><span class="p">,</span>
        <span class="n">core_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a7&#39;</span><span class="p">,</span> <span class="s1">&#39;a7&#39;</span><span class="p">,</span> <span class="s1">&#39;a7&#39;</span><span class="p">,</span> <span class="s1">&#39;a15&#39;</span><span class="p">,</span> <span class="s1">&#39;a15&#39;</span><span class="p">],</span>
        <span class="n">core_clusters</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
        <span class="c1"># ...</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="related-settings">
<h2>Related Settings<a class="headerlink" href="#related-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="reboot-policy">
<h3>Reboot Policy<a class="headerlink" href="#reboot-policy" title="Permalink to this headline">¶</a></h3>
<p>This indicates when during WA execution the device will be rebooted. By default
this is set to <code class="docutils literal"><span class="pre">never</span></code>, indicating that WA will not reboot the device. Please
see <code class="docutils literal"><span class="pre">reboot_policy</span></code> documentation in <a class="reference internal" href="configuration.html#configuration-specification"><span class="std std-ref">Configuration</span></a> for</p>
<p>more details.</p>
</div>
<div class="section" id="execution-order">
<h3>Execution Order<a class="headerlink" href="#execution-order" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">execution_order</span></code> defines the order in which WA will execute workloads.
<code class="docutils literal"><span class="pre">by_iteration</span></code> (set by default) will execute the first iteration of each spec
first, followed by the second iteration of each spec (that defines more than one
iteration) and so forth. The alternative  will loop through all iterations for
the first first spec first, then move on to second spec, etc. Again, please see
<a class="reference internal" href="configuration.html#configuration-specification"><span class="std std-ref">Configuration</span></a> for more details.</p>
</div>
</div>
<div class="section" id="adding-a-new-device-interface">
<h2>Adding a new device interface<a class="headerlink" href="#adding-a-new-device-interface" title="Permalink to this headline">¶</a></h2>
<p>If you are working with a particularly unusual device (e.g. a early stage
development board) or need to be able to handle some quirk of your Android build,
configuration available in <code class="docutils literal"><span class="pre">generic_android</span></code> interface may not be enough for
you. In that case, you may need to write a custom interface for your device. A
device interface is an <code class="docutils literal"><span class="pre">Extension</span></code> (a plug-in) type in WA and is implemented
similar to other extensions (such as workloads or instruments). Pleaser refer to
<a class="reference internal" href="writing_extensions.html#adding-a-device"><span class="std std-ref">Adding a Device</span></a> section for information on how this may be done.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Setting Up A Device</a><ul>
<li><a class="reference internal" href="#android">Android</a><ul>
<li><a class="reference internal" href="#general-device-setup">General Device Setup</a></li>
<li><a class="reference internal" href="#configuring-android">Configuring Android</a></li>
<li><a class="reference internal" href="#tc2-setup">TC2 Setup</a><ul>
<li><a class="reference internal" href="#pre-requisites">Pre-requisites</a></li>
<li><a class="reference internal" href="#setting-up-images">Setting Up Images</a><ul>
<li><a class="reference internal" href="#optionally">Optionally</a></li>
<li><a class="reference internal" href="#config-txt">config.txt</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tc2-specific-device-config-settings">TC2-specific device_config settings</a></li>
<li><a class="reference internal" href="#uefi-and-psci">UEFI and PSCI</a></li>
</ul>
</li>
<li><a class="reference internal" href="#juno-setup">Juno Setup</a><ul>
<li><a class="reference internal" href="#uefi">UEFI</a></li>
<li><a class="reference internal" href="#rebooting">Rebooting</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#linux">Linux</a><ul>
<li><a class="reference internal" href="#id3">General Device Setup</a></li>
</ul>
</li>
<li><a class="reference internal" href="#related-settings">Related Settings</a><ul>
<li><a class="reference internal" href="#reboot-policy">Reboot Policy</a></li>
<li><a class="reference internal" href="#execution-order">Execution Order</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adding-a-new-device-interface">Adding a new device interface</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="invocation.html"
                        title="next chapter">Commands</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/device_setup.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="invocation.html" title="Commands"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workload Automation 2.6.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013, ARM Ltd.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
  </body>
</html>