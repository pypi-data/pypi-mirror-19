<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Quickstart &#8212; Workload Automation 2.6.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation.html" />
    <link rel="prev" title="What’s New in Workload Automation" href="changes.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="changes.html" title="What’s New in Workload Automation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workload Automation 2.6.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>This guide will show you how to quickly start running workloads using
Workload Automation 2.</p>
<div class="section" id="install">
<h2>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a quick summary. For more detailed instructions, please see
the <a class="reference internal" href="installation.html"><span class="doc">Installation</span></a> section.</p>
</div>
<p>Make sure you have Python 2.7 and a recent Android SDK with API level 18 or above
installed on your system. A complete install of the Android SDK is required, as
WA uses a number of its utilities, not just adb. For the SDK, make sure that either
<code class="docutils literal"><span class="pre">ANDROID_HOME</span></code> environment variable is set, or that <code class="docutils literal"><span class="pre">adb</span></code> is in your <code class="docutils literal"><span class="pre">PATH</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you plan to run Workload Automation on Linux devices only, SSH is required,
and Android SDK is optional if you wish to run WA on Android devices at a
later time.</p>
<p class="last">However, you would be starting off with a limited number of workloads that
will run on Linux devices.</p>
</div>
<p>In addition to the base Python 2.7 install, you will also need to have <code class="docutils literal"><span class="pre">pip</span></code>
(Python&#8217;s package manager) installed as well. This is usually a separate package.</p>
<p>Once you have those, you can install WA with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">H</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">wlauto</span>
</pre></div>
</div>
<p>This will install Workload Automation on your system, along with its mandatory
dependencies.</p>
<div class="section" id="optional-verify-installation">
<h3>(Optional) Verify installation<a class="headerlink" href="#optional-verify-installation" title="Permalink to this headline">¶</a></h3>
<p>Once the tarball has been installed, try executing</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wa</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
<p>You should see a help message outlining available subcommands.</p>
</div>
<div class="section" id="optional-apk-files">
<h3>(Optional) APK files<a class="headerlink" href="#optional-apk-files" title="Permalink to this headline">¶</a></h3>
<p>A large number of WA workloads are installed as APK files. These cannot be
distributed with WA and so you will need to obtain those separately.</p>
<p>For more details, please see the <a class="reference internal" href="installation.html"><span class="doc">Installation</span></a> section.</p>
</div>
</div>
<div class="section" id="configure-your-device">
<h2>Configure Your Device<a class="headerlink" href="#configure-your-device" title="Permalink to this headline">¶</a></h2>
<p>Locate the device configuration file, config.py, under the
~/.workload_automation directory. Then adjust the device
configuration settings accordingly to the device you are using.</p>
<div class="section" id="android">
<h3>Android<a class="headerlink" href="#android" title="Permalink to this headline">¶</a></h3>
<p>By default, the device is set to &#8216;generic_android&#8217;. WA is configured to work
with a generic Android device through <code class="docutils literal"><span class="pre">adb</span></code>. If you only have one device listed
when you execute <code class="docutils literal"><span class="pre">adb</span> <span class="pre">devices</span></code>, and your device has a standard Android
configuration, then no extra configuration is required.</p>
<p>However, if your device is connected via network, you will have to manually execute
<code class="docutils literal"><span class="pre">adb</span> <span class="pre">connect</span> <span class="pre">&lt;device</span> <span class="pre">ip&gt;</span></code> so that it appears in the device listing.</p>
<p>If you have multiple devices connected, you will need to tell WA which one you
want it to use. You can do that by setting <code class="docutils literal"><span class="pre">adb_name</span></code> in device_config section.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># ...</span>

<span class="n">device_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">adb_name</span> <span class="o">=</span> <span class="s1">&#39;abcdef0123456789&#39;</span><span class="p">,</span>
        <span class="c1"># ...</span>
<span class="p">)</span>

<span class="c1"># ...</span>
</pre></div>
</div>
</div>
<div class="section" id="linux">
<h3>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h3>
<p>First, set the device to &#8216;generic_linux&#8217;</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># ...</span>
  <span class="n">device</span> <span class="o">=</span> <span class="s1">&#39;generic_linux&#39;</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<p>Find the device_config section and add these parameters</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># ...</span>

<span class="n">device_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">host</span> <span class="o">=</span> <span class="s1">&#39;192.168.0.100&#39;</span><span class="p">,</span>
        <span class="n">username</span> <span class="o">=</span> <span class="s1">&#39;root&#39;</span><span class="p">,</span>
        <span class="n">password</span> <span class="o">=</span> <span class="s1">&#39;password&#39;</span>
        <span class="c1"># ...</span>
<span class="p">)</span>

<span class="c1"># ...</span>
</pre></div>
</div>
<p>Parameters:</p>
<ul class="simple">
<li>Host is the IP of your target Linux device</li>
<li>Username is the user for the device</li>
<li>Password is the password for the device</li>
</ul>
</div>
<div class="section" id="enabling-and-disabling-instrumentation">
<h3>Enabling and Disabling Instrumentation<a class="headerlink" href="#enabling-and-disabling-instrumentation" title="Permalink to this headline">¶</a></h3>
<p>Some instrumentation tools are enabled after your initial install of WA.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some Linux devices may not be able to run certain instruments
provided by WA (e.g. cpufreq is disabled or unsupported by the
device).</p>
</div>
<p>As a start, keep the &#8216;execution_time&#8217; instrument enabled while commenting out
the rest to disable them.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># ...</span>

<span class="n">Instrumentation</span> <span class="o">=</span> <span class="p">[</span>
        <span class="c1"># Records the time it took to run the workload</span>
        <span class="s1">&#39;execution_time&#39;</span><span class="p">,</span>

        <span class="c1"># Collects /proc/interrupts before and after execution and does a diff.</span>
        <span class="c1"># &#39;interrupts&#39;,</span>

        <span class="c1"># Collects the contents of/sys/devices/system/cpu before and after execution and does a diff.</span>
        <span class="c1"># &#39;cpufreq&#39;,</span>

        <span class="c1"># ...</span>
<span class="p">)</span>
</pre></div>
</div>
<p>This should give you basic functionality. If you are working with a development
board or you need some advanced functionality (e.g. big.LITTLE tuning parameters),
additional configuration may be required. Please see the <a class="reference internal" href="device_setup.html"><span class="doc">Setting Up A Device</span></a>
section for more details.</p>
</div>
</div>
<div class="section" id="running-your-first-workload">
<h2>Running Your First Workload<a class="headerlink" href="#running-your-first-workload" title="Permalink to this headline">¶</a></h2>
<p>The simplest way to run a workload is to specify it as a parameter to WA <code class="docutils literal"><span class="pre">run</span></code>
sub-command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wa</span> <span class="n">run</span> <span class="n">dhrystone</span>
</pre></div>
</div>
<p>You will see INFO output from WA as it executes each stage of the run. A
completed run output should look something like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">INFO</span>     <span class="n">Initializing</span>
<span class="n">INFO</span>     <span class="n">Running</span> <span class="n">workloads</span>
<span class="n">INFO</span>     <span class="n">Connecting</span> <span class="n">to</span> <span class="n">device</span>
<span class="n">INFO</span>     <span class="n">Initializing</span> <span class="n">device</span>
<span class="n">INFO</span>     <span class="n">Running</span> <span class="n">workload</span> <span class="mi">1</span> <span class="n">dhrystone</span> <span class="p">(</span><span class="n">iteration</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">INFO</span>            <span class="n">Setting</span> <span class="n">up</span>
<span class="n">INFO</span>            <span class="n">Executing</span>
<span class="n">INFO</span>            <span class="n">Processing</span> <span class="n">result</span>
<span class="n">INFO</span>            <span class="n">Tearing</span> <span class="n">down</span>
<span class="n">INFO</span>     <span class="n">Processing</span> <span class="n">overall</span> <span class="n">results</span>
<span class="n">INFO</span>     <span class="n">Status</span> <span class="n">available</span> <span class="ow">in</span> <span class="n">wa_output</span><span class="o">/</span><span class="n">status</span><span class="o">.</span><span class="n">txt</span>
<span class="n">INFO</span>     <span class="n">Done</span><span class="o">.</span>
<span class="n">INFO</span>     <span class="n">Ran</span> <span class="n">a</span> <span class="n">total</span> <span class="n">of</span> <span class="mi">1</span> <span class="n">iterations</span><span class="p">:</span> <span class="mi">1</span> <span class="n">OK</span>
<span class="n">INFO</span>     <span class="n">Results</span> <span class="n">can</span> <span class="n">be</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">wa_output</span>
</pre></div>
</div>
<p>Once the run has completed, you will find a directory called <code class="docutils literal"><span class="pre">wa_output</span></code>
in the location where you have invoked <code class="docutils literal"><span class="pre">wa</span> <span class="pre">run</span></code>. Within this directory,
you will find a &#8220;results.csv&#8221; file which will contain results obtained for
dhrystone, as well as a &#8220;run.log&#8221; file containing detailed log output for
the run. You will also find a sub-directory called &#8216;drystone_1_1&#8217; that
contains the results for that iteration. Finally, you will find a copy of the
agenda file in the <code class="docutils literal"><span class="pre">wa_output/__meta</span></code> subdirectory. The contents of
iteration-specific subdirectories will vary from workload to workload, and,
along with the contents of the main output directory, will depend on the
instrumentation and result processors that were enabled for that run.</p>
<p>The <code class="docutils literal"><span class="pre">run</span></code> sub-command takes a number of options that control its behavior,
you can view those by executing <code class="docutils literal"><span class="pre">wa</span> <span class="pre">run</span> <span class="pre">-h</span></code>. Please see the <a class="reference internal" href="invocation.html"><span class="doc">Commands</span></a>
section for details.</p>
</div>
<div class="section" id="create-an-agenda">
<h2>Create an Agenda<a class="headerlink" href="#create-an-agenda" title="Permalink to this headline">¶</a></h2>
<p>Simply running a single workload is normally of little use. Typically, you would
want to specify several workloads, setup the device state and, possibly, enable
additional instrumentation. To do this, you would need to create an &#8220;agenda&#8221; for
the run that outlines everything you want WA to do.</p>
<p>Agendas are written using <a class="reference external" href="http://en.wikipedia.org/wiki/YAML">YAML</a> markup language. A simple agenda might look
like this:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">config</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">instrumentation</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">~execution_time</span><span class="p p-Indicator">]</span>
        <span class="l l-Scalar l-Scalar-Plain">result_processors</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">json</span><span class="p p-Indicator">]</span>
<span class="l l-Scalar l-Scalar-Plain">global</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">iterations</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="l l-Scalar l-Scalar-Plain">workloads</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">memcpy</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dhrystone</span>
          <span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">mloops</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
                <span class="l l-Scalar l-Scalar-Plain">threads</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<p>This agenda</p>
<ul class="simple">
<li>Specifies two workloads: memcpy and dhrystone.</li>
<li>Specifies that dhrystone should run in one thread and execute five million loops.</li>
<li>Specifies that each of the two workloads should be run twice.</li>
<li>Enables json result processor, in addition to the result processors enabled in
the config.py.</li>
<li>Disables execution_time instrument, if it is enabled in the config.py</li>
</ul>
<p>An agenda can be created in a text editor and saved as a YAML file. Please make note of
where you have saved the agenda.</p>
<p>Please see <a class="reference internal" href="agenda.html"><span class="doc">Agenda</span></a> section for more options.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>These examples show some useful options with the <code class="docutils literal"><span class="pre">wa</span> <span class="pre">run</span></code> command.</p>
<p>To run your own agenda:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wa</span> <span class="n">run</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">agenda</span><span class="o">&gt;</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">wa</span> <span class="n">run</span> <span class="o">~/</span><span class="n">myagenda</span><span class="o">.</span><span class="n">yaml</span><span class="p">)</span>
</pre></div>
</div>
<p>To redirect the output to a different directory other than wa_output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wa</span> <span class="n">run</span> <span class="n">dhrystone</span> <span class="o">-</span><span class="n">d</span> <span class="n">my_output_directory</span>
</pre></div>
</div>
<p>To use a different config.py file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wa</span> <span class="n">run</span> <span class="o">-</span><span class="n">c</span> <span class="n">myconfig</span><span class="o">.</span><span class="n">py</span> <span class="n">dhrystone</span>
</pre></div>
</div>
<p>To use the same output directory but override existing contents to
store new dhrystone results:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wa</span> <span class="n">run</span> <span class="o">-</span><span class="n">f</span> <span class="n">dhrystone</span>
</pre></div>
</div>
<p>To display verbose output while running memcpy:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wa</span> <span class="n">run</span> <span class="o">--</span><span class="n">verbose</span> <span class="n">memcpy</span>
</pre></div>
</div>
</div>
<div class="section" id="uninstall">
<h2>Uninstall<a class="headerlink" href="#uninstall" title="Permalink to this headline">¶</a></h2>
<p>If you have installed Workload Automation via <code class="docutils literal"><span class="pre">pip</span></code>, then run this command to
uninstall it:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip</span> <span class="n">uninstall</span> <span class="n">wlauto</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It will <em>not</em> remove any user configuration (e.g. the ~/.workload_automation
directory).</p>
</div>
</div>
<div class="section" id="upgrade">
<h2>Upgrade<a class="headerlink" href="#upgrade" title="Permalink to this headline">¶</a></h2>
<p>To upgrade Workload Automation to the latest version via <code class="docutils literal"><span class="pre">pip</span></code>, run:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">deps</span> <span class="n">wlauto</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Quickstart</a><ul>
<li><a class="reference internal" href="#install">Install</a><ul>
<li><a class="reference internal" href="#optional-verify-installation">(Optional) Verify installation</a></li>
<li><a class="reference internal" href="#optional-apk-files">(Optional) APK files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configure-your-device">Configure Your Device</a><ul>
<li><a class="reference internal" href="#android">Android</a></li>
<li><a class="reference internal" href="#linux">Linux</a></li>
<li><a class="reference internal" href="#enabling-and-disabling-instrumentation">Enabling and Disabling Instrumentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-your-first-workload">Running Your First Workload</a></li>
<li><a class="reference internal" href="#create-an-agenda">Create an Agenda</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#uninstall">Uninstall</a></li>
<li><a class="reference internal" href="#upgrade">Upgrade</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="changes.html"
                        title="previous chapter">What&#8217;s New in Workload Automation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="installation.html"
                        title="next chapter">Installation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/quickstart.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >next</a> |</li>
        <li class="right" >
          <a href="changes.html" title="What’s New in Workload Automation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workload Automation 2.6.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013, ARM Ltd.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
  </body>
</html>